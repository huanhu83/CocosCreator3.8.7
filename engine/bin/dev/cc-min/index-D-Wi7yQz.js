System.register(["./gc-object-BD6DANSw.js","./_virtual_internal_constants-CVZmBipG.js","./index-BcjqSS2q.js","./deprecated-gv6rCJsk.js","./director-D6Xf3-Ej.js","./global-exports-ZavlJGEN.js","./node-event-BDYemSfE.js","./collision-matrix-DvJE_i6G.js","./scene-D5fG1En6.js","./deprecated-BaebfHhU.js","./prefab-CJahvMeV.js","./pipeline-state-manager-C4BAah3w.js","./util-BWh5q49O.js","./mesh-BsaPYlYJ.js","./skeleton-hXUbiLKQ.js","./terrain-asset-DtjAFN8y.js"],(function(t){"use strict";var e,i,n,o,r,s,a,p,c,u,h,l,y,_,g,f,d,m,w,v,S,b,C,D,k,E,P,O,T,M,L,x,A,I,F,B,j,R,z,N,H,V,W,G,q,U,Y,X,K,Z,J,Q,$,tt,et,it;return{setters:[function(t){e=t._,i=t.a,n=t.b,o=t.o,r=t.U,s=t.G,a=t.F,p=t.h,c=t.s,u=t.S,h=t.w,l=t.R,y=t.E,_=t.L,g=t.Y,f=t.C},function(t){d=t.E},function(t){m=t.c,w=t.t,v=t.a,S=t.a6,b=t.s,C=t.f,D=t.R,k=t.S,E=t.d,P=t.j,O=t.G,T=t._,M=t.aj,L=t.K,x=t.k},function(t){A=t.g},function(t){I=t.d,F=t.D},function(t){B=t.c},function(t){j=t.A,R=t.C},function(t){z=t.b,N=t.f,H=t.g,V=t.P,W=t.C,G=t.a,q=t.E,U=t.h,Y=t.d,X=t.e,K=t.i,Z=t.c},function(t){J=t.d,Q=t.k},null,null,null,function(t){$=t.a,tt=t.u},function(t){et=t.M},null,function(t){it=t.c}],execute:function(){var nt,ot,rt,st,at,pt,ct,ut,ht,lt,yt,_t,gt,ft=t("c",(nt=m("cc.PhysicsMaterial"),ot=w(o),rt=w(o),st=w(o),at=w(o),nt((_t=function(t){function n(){var e;return(e=t.call(this)||this).id=void 0,e._friction=ut&&ut(),e._rollingFriction=ht&&ht(),e._spinningFriction=lt&&lt(),e._restitution=yt&&yt(),n.allMaterials.push(r(e)),e.id=n._idCounter++,e._uuid||(e._uuid="pm_"+e.id),e}e(n,t);var o=n.prototype;return o.clone=function(){var t=new n;return t._friction=this._friction,t._restitution=this._restitution,t._rollingFriction=this._rollingFriction,t._spinningFriction=this._spinningFriction,t},o.destroy=function(){if(t.prototype.destroy.call(this)){var e=n.allMaterials.indexOf(this);return e>=0&&n.allMaterials.splice(e,1),!0}return!1},o.setValues=function(t,e,i,o){var r=this._friction!==t||this._rollingFriction!==e||this._spinningFriction!==i||this._restitution!==o;this._friction=t,this._rollingFriction=e,this._spinningFriction=i,this._restitution=o,r&&this.emit(n.EVENT_UPDATE)},i(n,[{key:"friction",get:function(){return this._friction},set:function(t){S(this._friction,t)||(this._friction=t,this.emit(n.EVENT_UPDATE))}},{key:"rollingFriction",get:function(){return this._rollingFriction},set:function(t){S(this._rollingFriction,t)||(this._rollingFriction=t,this.emit(n.EVENT_UPDATE))}},{key:"spinningFriction",get:function(){return this._spinningFriction},set:function(t){S(this._spinningFriction,t)||(this._spinningFriction=t,this.emit(n.EVENT_UPDATE))}},{key:"restitution",get:function(){return this._restitution},set:function(t){S(this._restitution,t)||(this._restitution=t,this.emit(n.EVENT_UPDATE))}}]),n}(j),_t.allMaterials=[],_t.EVENT_UPDATE="event_update",_t._idCounter=0,n((ct=_t).prototype,"friction",[ot],Object.getOwnPropertyDescriptor(ct.prototype,"friction"),ct.prototype),n(ct.prototype,"rollingFriction",[rt],Object.getOwnPropertyDescriptor(ct.prototype,"rollingFriction"),ct.prototype),n(ct.prototype,"spinningFriction",[st],Object.getOwnPropertyDescriptor(ct.prototype,"spinningFriction"),ct.prototype),n(ct.prototype,"restitution",[at],Object.getOwnPropertyDescriptor(ct.prototype,"restitution"),ct.prototype),ut=v(ct.prototype,"_friction",[b],(function(){return.6})),ht=v(ct.prototype,"_rollingFriction",[b],(function(){return 0})),lt=v(ct.prototype,"_spinningFriction",[b],(function(){return 0})),yt=v(ct.prototype,"_restitution",[b],(function(){return 0})),pt=ct))||pt)),dt=t("g",function(){function t(){this._hitPoint=new C,this._hitNormal=new C,this._distance=0,this._collider=null,this._closestHitFraction=0}var e=t.prototype;return e._assign=function(t,e,i,n,o){C.copy(this._hitPoint,t),C.copy(this._hitNormal,n),this._distance=e,this._collider=i,o&&(this._closestHitFraction=o)},e.clone=function(){var e=new t;return C.copy(e._hitPoint,this._hitPoint),C.copy(e._hitNormal,this._hitNormal),e._distance=this._distance,e._collider=this._collider,e._closestHitFraction=this._closestHitFraction,e},i(t,[{key:"hitPoint",get:function(){return this._hitPoint}},{key:"distance",get:function(){return this._distance}},{key:"collider",get:function(){return this._collider}},{key:"hitNormal",get:function(){return this._hitNormal}},{key:"closestHitFraction",get:function(){return this._closestHitFraction}}]),t}()),mt=t("h",function(t){function n(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this)._id=0,e}e(n,t);var o=n.prototype;return o._assign=function(e,i,n,o,r){void 0===r&&(r=0),t.prototype._assign.call(this,e,i,n,o),this._id=r},o.clone=function(){var t=new n;return C.copy(t._hitPoint,this._hitPoint),C.copy(t._hitNormal,this._hitNormal),t._distance=this._distance,t._collider=this._collider,t._id=this._id,t},i(n,[{key:"id",get:function(){return this._id}}]),n}(dt));function wt(t){B._global.CC_PHYSICS_BUILTIN="builtin"===t,B._global.CC_PHYSICS_CANNON="cannon.js"===t,B._global.CC_PHYSICS_AMMO="bullet"===t}var vt=t("s",{id:"",switchTo:function(t){if(vt.runInEditor){var e=vt;if(vt.physicsWorld&&t!==vt.id&&null!=vt.backend[t]?(vt.physicsWorld.destroy(),s("[PHYSICS]: switch from "+vt.id+" to "+t+"."),wt(t),e.id=t,e.wrapper=vt.backend[t],e.physicsWorld=Et()):(s("[PHYSICS]: using "+t+"."),e.physicsWorld=Et()),gt){var i=e.physicsWorld;i.setGravity(gt.gravity),i.setAllowSleep(gt.allowSleep)}}},register:function(t,e){if(s("[PHYSICS]: register "+t+"."),vt.backend[t]=e,!vt.physicsWorld||vt.id===t){wt(t);var i=vt;i.id=t,i.wrapper=e}},wrapper:{},backend:{},physicsWorld:null,runInEditor:!d});function St(t){if(gt||(gt=t),vt.runInEditor&&!vt.physicsWorld){s("[PHYSICS]: using "+vt.id+".");var e=vt.physicsWorld=Et();e.setGravity(gt.gravity),e.setAllowSleep(gt.allowSleep)}}var bt,Ct=function(){return 0},Dt={impl:null,debugDrawFlags:0,debugDrawConstraintSize:0,setGravity:Ct,setAllowSleep:Ct,setDefaultMaterial:Ct,step:Ct,syncAfterEvents:Ct,syncSceneToPhysics:Ct,raycast:Ct,raycastClosest:Ct,sweepBox:Ct,sweepBoxClosest:Ct,sweepSphere:Ct,sweepSphereClosest:Ct,sweepCapsule:Ct,sweepCapsuleClosest:Ct,emitEvents:Ct,destroy:Ct};function kt(t,e){return null==t&&(vt.id?a(vt.id+" physics does not support "+bt[e]):p(9600),!0)}function Et(){return kt(vt.wrapper.PhysicsWorld,bt.World)?Dt:new vt.wrapper.PhysicsWorld}!function(t){t[t.World=0]="World",t[t.RigidBody=1]="RigidBody",t[t.BoxCollider=2]="BoxCollider",t[t.SphereCollider=3]="SphereCollider",t[t.CapsuleCollider=4]="CapsuleCollider",t[t.MeshCollider=5]="MeshCollider",t[t.CylinderCollider=6]="CylinderCollider",t[t.ConeCollider=7]="ConeCollider",t[t.TerrainCollider=8]="TerrainCollider",t[t.SimplexCollider=9]="SimplexCollider",t[t.PlaneCollider=10]="PlaneCollider",t[t.PointToPointConstraint=11]="PointToPointConstraint",t[t.HingeConstraint=12]="HingeConstraint",t[t.FixedConstraint=13]="FixedConstraint",t[t.ConfigurableConstraint=14]="ConfigurableConstraint",t[t.BoxCharacterController=15]="BoxCharacterController",t[t.CapsuleCharacterController=16]="CapsuleCharacterController"}(bt||(bt={}));var Pt={impl:null,rigidBody:null,isAwake:!1,isSleepy:!1,isSleeping:!1,initialize:Ct,onEnable:Ct,onDisable:Ct,onDestroy:Ct,setType:Ct,setMass:Ct,setLinearDamping:Ct,setAngularDamping:Ct,useGravity:Ct,setLinearFactor:Ct,setAngularFactor:Ct,setAllowSleep:Ct,wakeUp:Ct,sleep:Ct,clearState:Ct,clearForces:Ct,clearVelocity:Ct,setSleepThreshold:Ct,getSleepThreshold:Ct,getLinearVelocity:Ct,setLinearVelocity:Ct,getAngularVelocity:Ct,setAngularVelocity:Ct,applyForce:Ct,applyLocalForce:Ct,applyImpulse:Ct,applyLocalImpulse:Ct,applyTorque:Ct,applyLocalTorque:Ct,setGroup:Ct,getGroup:Ct,addGroup:Ct,removeGroup:Ct,setMask:Ct,getMask:Ct,addMask:Ct,removeMask:Ct,isUsingCCD:Ct,useCCD:Ct},Ot={INITED:!1},Tt={impl:null,collider:null,attachedRigidBody:null,initialize:Ct,onLoad:Ct,onEnable:Ct,onDisable:Ct,onDestroy:Ct,setGroup:Ct,getGroup:Ct,addGroup:Ct,removeGroup:Ct,setMask:Ct,getMask:Ct,addMask:Ct,removeMask:Ct,setMaterial:Ct,setAsTrigger:Ct,setCenter:Ct,getAABB:Ct,getBoundingSphere:Ct,updateSize:Ct,updateRadius:Ct,setRadius:Ct,setCylinderHeight:Ct,setDirection:Ct,setHeight:Ct,setShapeType:Ct,setVertices:Ct,setMesh:Ct,setTerrain:Ct,setNormal:Ct,setConstant:Ct,updateEventListener:Ct};function Mt(t){return Ot.INITED||(Ot.INITED=!0,Ot[z.BOX]=function(){return kt(vt.wrapper.BoxShape,bt.BoxCollider)?Tt:new vt.wrapper.BoxShape},Ot[z.SPHERE]=function(){return kt(vt.wrapper.SphereShape,bt.SphereCollider)?Tt:new vt.wrapper.SphereShape},Ot[z.CAPSULE]=function(){return kt(vt.wrapper.CapsuleShape,bt.CapsuleCollider)?Tt:new vt.wrapper.CapsuleShape},Ot[z.CYLINDER]=function(){return kt(vt.wrapper.CylinderShape,bt.CylinderCollider)?Tt:new vt.wrapper.CylinderShape},Ot[z.CONE]=function(){return kt(vt.wrapper.ConeShape,bt.ConeCollider)?Tt:new vt.wrapper.ConeShape},Ot[z.MESH]=function(){return kt(vt.wrapper.TrimeshShape,bt.MeshCollider)?Tt:new vt.wrapper.TrimeshShape},Ot[z.TERRAIN]=function(){return kt(vt.wrapper.TerrainShape,bt.TerrainCollider)?Tt:new vt.wrapper.TerrainShape},Ot[z.SIMPLEX]=function(){return kt(vt.wrapper.SimplexShape,bt.SimplexCollider)?Tt:new vt.wrapper.SimplexShape},Ot[z.PLANE]=function(){return kt(vt.wrapper.PlaneShape,bt.PlaneCollider)?Tt:new vt.wrapper.PlaneShape}),Ot[t]()}var Lt={INITED:!1},xt={impl:null,initialize:Ct,onLoad:Ct,onEnable:Ct,onDisable:Ct,onDestroy:Ct,setEnableCollision:Ct,setConnectedBody:Ct,setPivotA:Ct,setPivotB:Ct,setAxis:Ct,setSecondaryAxis:Ct,setBreakForce:Ct,setBreakTorque:Ct,setConstraintMode:Ct,setLinearLimit:Ct,setAngularExtent:Ct,setLinearSoftConstraint:Ct,setLinearStiffness:Ct,setLinearDamping:Ct,setLinearRestitution:Ct,setSwingSoftConstraint:Ct,setTwistSoftConstraint:Ct,setSwingStiffness:Ct,setSwingDamping:Ct,setSwingRestitution:Ct,setTwistStiffness:Ct,setTwistDamping:Ct,setTwistRestitution:Ct,setDriverMode:Ct,setLinearMotorTarget:Ct,setLinearMotorVelocity:Ct,setLinearMotorForceLimit:Ct,setAngularMotorTarget:Ct,setAngularMotorVelocity:Ct,setAngularMotorForceLimit:Ct,setAutoPivotB:Ct,setLimitEnabled:Ct,setLowerLimit:Ct,setUpperLimit:Ct,setMotorEnabled:Ct,setMotorVelocity:Ct,setMotorForceLimit:Ct};function At(t){return Lt.INITED||(Lt.INITED=!0,Lt[N.POINT_TO_POINT]=function(){return kt(vt.wrapper.PointToPointConstraint,bt.PointToPointConstraint)?xt:new vt.wrapper.PointToPointConstraint},Lt[N.HINGE]=function(){return kt(vt.wrapper.HingeConstraint,bt.HingeConstraint)?xt:new vt.wrapper.HingeConstraint},Lt[N.FIXED]=function(){return kt(vt.wrapper.FixedConstraint,bt.FixedConstraint)?xt:new vt.wrapper.FixedConstraint},Lt[N.CONFIGURABLE]=function(){return kt(vt.wrapper.ConfigurableConstraint,bt.ConfigurableConstraint)?xt:new vt.wrapper.ConfigurableConstraint}),Lt[t]()}var It={INITED:!1},Ft={initialize:Ct,onLoad:Ct,onEnable:Ct,onDisable:Ct,onDestroy:Ct,onGround:Ct,getPosition:Ct,setPosition:Ct,setStepOffset:Ct,setSlopeLimit:Ct,setContactOffset:Ct,setDetectCollisions:Ct,setOverlapRecovery:Ct,setGroup:Ct,getGroup:Ct,addGroup:Ct,removeGroup:Ct,setMask:Ct,getMask:Ct,addMask:Ct,removeMask:Ct,move:Ct,syncPhysicsToScene:Ct,updateEventListener:Ct,setHalfHeight:Ct,setHalfSideExtent:Ct,setHalfForwardExtent:Ct,setRadius:Ct,setHeight:Ct};function Bt(t){return It.INITED||(It.INITED=!0,It[H.BOX]=function(){return kt(vt.wrapper.BoxCharacterController,bt.BoxCharacterController)?Ft:new vt.wrapper.BoxCharacterController},It[H.CAPSULE]=function(){return kt(vt.wrapper.CapsuleCharacterController,bt.CapsuleCharacterController)?Ft:new vt.wrapper.CapsuleCharacterController}),It[t]()}B.internal.PhysicsGroup=V;var jt,Rt,zt,Nt,Ht,Vt,Wt,Gt,qt,Ut,Yt,Xt,Kt,Zt,Jt,Qt,$t=c.querySettings.bind(c),te=t("P",function(t){e(o,t);var n=o.prototype;function o(){var e;return(e=t.call(this)||this).raycastClosestResult=new dt,e.raycastResults=[],e.lineStripCastClosestResult=new mt,e.lineStripCastResults=[],e.sweepCastClosestResult=new dt,e.sweepCastResults=[],e.collisionMatrix=new W(1),e.minVolumeSize=1e-5,e.useNodeChains=!1,e._enable=!0,e._allowSleep=!0,e._maxSubSteps=1,e._subStepCount=0,e._fixedTimeStep=1/60,e._autoSimulation=!0,e._accumulator=0,e._sleepThreshold=.1,e._gravity=new C(0,-10,0),e._material=void 0,e.raycastOptions={group:-1,mask:-1,queryTrigger:!0,maxDistance:1e7},e.raycastResultPool=new l((function(){return new dt}),1),e.sweepResultPool=new l((function(){return new dt}),1),e}return n.setDefaultPhysicsMaterial=function(t){this._material=t,this.physicsWorld.setDefaultMaterial(this._material),this._material.on(ft.EVENT_UPDATE,this._updateMaterial,this)},n.initDefaultMaterial=function(){var t=this;if(null!=this._material)return Promise.resolve();var e=J.get("default-physics-material");if(!e)return p(9642),Promise.resolve();var i=$t(u.PHYSICS,"defaultMaterial");return i?new Promise((function(t,e){Q.loadAny(i,(function(i,n){return!i&&n instanceof ft?t(n):e(i)}))})).then((function(e){t.setDefaultPhysicsMaterial(e)})).catch((function(n){a(n),h(9643,i),t.setDefaultPhysicsMaterial(e)})):(this.setDefaultPhysicsMaterial(e),Promise.resolve())},n.postUpdate=function(t){if(this.physicsWorld)if(this._enable){if(this._autoSimulation){for(this._subStepCount=0,this._accumulator+=t,I.emit(F.BEFORE_PHYSICS);this._subStepCount<this._maxSubSteps;){if(!(this._accumulator>=this._fixedTimeStep)){this.physicsWorld.syncSceneToPhysics();break}this.physicsWorld.syncSceneToPhysics(),this.physicsWorld.step(this._fixedTimeStep),this.physicsWorld.emitEvents(),this.physicsWorld.syncAfterEvents(),this._accumulator-=this._fixedTimeStep,this._subStepCount++}I.emit(F.AFTER_PHYSICS)}}else this.physicsWorld.syncSceneToPhysics()},n.resetConfiguration=function(t){var e=t?t.allowSleep:$t(u.PHYSICS,"allowSleep");"boolean"==typeof e&&(this._allowSleep=e);var i=t?t.fixedTimeStep:$t(u.PHYSICS,"fixedTimeStep");"number"==typeof i&&(this._fixedTimeStep=i);var n=t?t.maxSubSteps:$t(u.PHYSICS,"maxSubSteps");"number"==typeof n&&(this._maxSubSteps=n);var o=t?t.sleepThreshold:$t(u.PHYSICS,"sleepThreshold");"number"==typeof o&&(this._sleepThreshold=o);var r=t?t.autoSimulation:$t(u.PHYSICS,"autoSimulation");"boolean"==typeof r&&(this.autoSimulation=r);var s=t?t.gravity:$t(u.PHYSICS,"gravity");s&&C.copy(this._gravity,s);var a=t?t.collisionMatrix:$t(u.PHYSICS,"collisionMatrix");if(a)for(var p in a)this.collisionMatrix[""+(1<<parseInt(p))]=a[p];var c=t?t.collisionGroups:$t(u.PHYSICS,"collisionGroups");c&&c instanceof Array&&(c.forEach((function(t){V[t.name]=1<<t.index})),y.update(V)),this.physicsWorld&&(this.physicsWorld.setGravity(this._gravity),this.physicsWorld.setAllowSleep(this._allowSleep))},n.resetAccumulator=function(t){void 0===t&&(t=0),this._accumulator=t},n.step=function(t,e,i){this.physicsWorld&&this.physicsWorld.step(t,e,i)},n.syncSceneToPhysics=function(){this.physicsWorld&&this.physicsWorld.syncSceneToPhysics()},n.emitEvents=function(){this.physicsWorld&&this.physicsWorld.emitEvents()},n.raycast=function(t,e,i,n){return void 0===e&&(e=4294967295),void 0===i&&(i=1e7),void 0===n&&(n=!0),!!this.physicsWorld&&(this.raycastResultPool.reset(),this.raycastResults.length=0,this.raycastOptions.mask=e>>>0,this.raycastOptions.maxDistance=i,this.raycastOptions.queryTrigger=n,this.physicsWorld.raycast(t,this.raycastOptions,this.raycastResultPool,this.raycastResults))},n.raycastClosest=function(t,e,i,n){return void 0===e&&(e=4294967295),void 0===i&&(i=1e7),void 0===n&&(n=!0),!!this.physicsWorld&&(this.raycastOptions.mask=e>>>0,this.raycastOptions.maxDistance=i,this.raycastOptions.queryTrigger=n,this.physicsWorld.raycastClosest(t,this.raycastOptions,this.raycastClosestResult))},n.lineStripCast=function(t,e,i,n){if(void 0===e&&(e=4294967295),void 0===i&&(i=1e7),void 0===n&&(n=!0),t.length<2)return!1;this.lineStripCastResults=[];for(var o=0,r=new D,s=1;s<t.length&&!(o>i);++s){var a=t[s-1],p=t[s],c=new C;C.subtract(c,p,a);var u=C.len(c);if(o+=u,C.multiplyScalar(c,c,1/u),r.d=c,r.o=a,this.raycast(r,e,u,n))for(var h=0;h<this.raycastResults.length;h++){var l=this.raycastResults[h];if(0!==h||!C.equals(a,l.hitPoint)){var y=new mt;y._assign(l.hitPoint,l.distance,l.collider,l.hitNormal,s-1),this.lineStripCastResults.push(y)}}}return this.lineStripCastResults.length>0},n.lineStripCastClosest=function(t,e,i,n){if(void 0===e&&(e=4294967295),void 0===i&&(i=1e7),void 0===n&&(n=!0),t.length<2)return!1;for(var o=0,r=new D,s=!1,a=1;a<t.length&&!(o>i);++a){var p=t[a-1],c=t[a],u=new C;C.subtract(u,c,p);var h=C.len(u);if(o+=h,C.multiplyScalar(u,u,1/h),r.d=u,r.o=p,s=this.raycastClosest(r,e,h,n)){var l=this.raycastClosestResult,y=new mt;y._assign(l.hitPoint,l.distance,l.collider,l.hitNormal,a-1),this.lineStripCastClosestResult=y;break}}return s},n.sweepBox=function(t,e,i,n,o,r){return void 0===n&&(n=4294967295),void 0===o&&(o=1e7),void 0===r&&(r=!0),!!this.physicsWorld&&(this.sweepResultPool.reset(),this.sweepCastResults.length=0,this.raycastOptions.mask=n>>>0,this.raycastOptions.maxDistance=o,this.raycastOptions.queryTrigger=r,this.physicsWorld.sweepBox(t,e,i,this.raycastOptions,this.sweepResultPool,this.sweepCastResults))},n.sweepBoxClosest=function(t,e,i,n,o,r){return void 0===n&&(n=4294967295),void 0===o&&(o=1e7),void 0===r&&(r=!0),!!this.physicsWorld&&(this.raycastOptions.mask=n>>>0,this.raycastOptions.maxDistance=o,this.raycastOptions.queryTrigger=r,this.physicsWorld.sweepBoxClosest(t,e,i,this.raycastOptions,this.sweepCastClosestResult))},n.sweepSphere=function(t,e,i,n,o){return void 0===i&&(i=4294967295),void 0===n&&(n=1e7),void 0===o&&(o=!0),!!this.physicsWorld&&(this.sweepResultPool.reset(),this.sweepCastResults.length=0,this.raycastOptions.mask=i>>>0,this.raycastOptions.maxDistance=n,this.raycastOptions.queryTrigger=o,this.physicsWorld.sweepSphere(t,e,this.raycastOptions,this.sweepResultPool,this.sweepCastResults))},n.sweepSphereClosest=function(t,e,i,n,o){return void 0===i&&(i=4294967295),void 0===n&&(n=1e7),void 0===o&&(o=!0),!!this.physicsWorld&&(this.raycastOptions.mask=i>>>0,this.raycastOptions.maxDistance=n,this.raycastOptions.queryTrigger=o,this.physicsWorld.sweepSphereClosest(t,e,this.raycastOptions,this.sweepCastClosestResult))},n.sweepCapsule=function(t,e,i,n,o,r,s){return void 0===o&&(o=4294967295),void 0===r&&(r=1e7),void 0===s&&(s=!0),!!this.physicsWorld&&(this.sweepResultPool.reset(),this.sweepCastResults.length=0,this.raycastOptions.mask=o>>>0,this.raycastOptions.maxDistance=r,this.raycastOptions.queryTrigger=s,this.physicsWorld.sweepCapsule(t,e,i,n,this.raycastOptions,this.sweepResultPool,this.sweepCastResults))},n.sweepCapsuleClosest=function(t,e,i,n,o,r,s){return void 0===o&&(o=4294967295),void 0===r&&(r=1e7),void 0===s&&(s=!0),!!this.physicsWorld&&(this.raycastOptions.mask=o>>>0,this.raycastOptions.maxDistance=r,this.raycastOptions.queryTrigger=s,this.physicsWorld.sweepCapsuleClosest(t,e,i,n,this.raycastOptions,this.sweepCastClosestResult))},n._updateMaterial=function(){this.physicsWorld&&this.physicsWorld.setDefaultMaterial(this._material)},o.constructAndRegister=function(){if(!o._instance){var t=this.doConstructAndRegister();t&&A.onPostProjectInitDelegate.add(t.initDefaultMaterial.bind(t))}},o.constructAndRegisterManually=function(){return Promise.resolve()},o.doConstructAndRegister=function(){var t;if(null!==(t=$t(u.PHYSICS,"enabled"))&&void 0!==t&&!t)return null;if(!o._instance){var e=new o;o._instance=e,e.resetConfiguration(),St(e),I.registerSystem(o.ID,e,e.priority)}return o._instance},i(o,[{key:"enable",get:function(){return this._enable},set:function(t){this._enable=t}},{key:"allowSleep",get:function(){return this._allowSleep},set:function(t){this._allowSleep=t,this.physicsWorld&&this.physicsWorld.setAllowSleep(t)}},{key:"maxSubSteps",get:function(){return this._maxSubSteps},set:function(t){this._maxSubSteps=t}},{key:"fixedTimeStep",get:function(){return this._fixedTimeStep},set:function(t){this._fixedTimeStep=t}},{key:"gravity",get:function(){return this._gravity},set:function(t){this._gravity.set(t),this.physicsWorld&&this.physicsWorld.setGravity(t)}},{key:"sleepThreshold",get:function(){return this._sleepThreshold},set:function(t){this._sleepThreshold=t}},{key:"autoSimulation",get:function(){return this._autoSimulation},set:function(t){this._autoSimulation=t}},{key:"defaultMaterial",get:function(){return this._material}},{key:"physicsWorld",get:function(){return vt.physicsWorld}},{key:"debugDrawFlags",get:function(){return this.physicsWorld.debugDrawFlags},set:function(t){this.physicsWorld.debugDrawFlags=t}},{key:"debugDrawConstraintSize",get:function(){return this.physicsWorld.debugDrawConstraintSize},set:function(t){this.physicsWorld.debugDrawConstraintSize=t}}],[{key:"PHYSICS_NONE",get:function(){return!vt.id}},{key:"PHYSICS_BUILTIN",get:function(){return"builtin"===vt.id}},{key:"PHYSICS_CANNON",get:function(){return"cannon.js"===vt.id}},{key:"PHYSICS_BULLET",get:function(){return"bullet"===vt.id}},{key:"PHYSICS_PHYSX",get:function(){return"physx"===vt.id}},{key:"PhysicsGroup",get:function(){return V}},{key:"instance",get:function(){return o._instance}}]),o}(k));te.ID="PHYSICS",te._instance=null,I.once(F.INIT,(function(){te.constructAndRegister()}));var ee,ie,ne,oe,re,se,ae,pe,ce,ue,he,le=t("R",(jt=m("cc.RigidBody"),Rt=P(-1),zt=w(te.PhysicsGroup),Nt=w(G),jt(Ht=E(Ht=Rt((Qt=function(t){function n(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this)._body=null,e._group=Wt&&Wt(),e._type=Gt&&Gt(),e._mass=qt&&qt(),e._allowSleep=Ut&&Ut(),e._linearDamping=Yt&&Yt(),e._angularDamping=Xt&&Xt(),e._useGravity=Kt&&Kt(),e._linearFactor=Zt&&Zt(),e._angularFactor=Jt&&Jt(),e}e(n,t);var o=n.prototype;return o.onLoad=function(){vt.runInEditor&&(this._body=kt(vt.wrapper.RigidBody,bt.RigidBody)?Pt:new vt.wrapper.RigidBody,this._body.initialize(this))},o.onEnable=function(){this._body&&this._body.onEnable()},o.onDisable=function(){this._body&&this._body.onDisable()},o.onDestroy=function(){this._body&&this._body.onDestroy()},o.applyForce=function(t,e){this._isInitialized&&this._body.applyForce(t,e)},o.applyLocalForce=function(t,e){this._isInitialized&&this._body.applyLocalForce(t,e)},o.applyImpulse=function(t,e){this._isInitialized&&this._body.applyImpulse(t,e)},o.applyLocalImpulse=function(t,e){this._isInitialized&&this._body.applyLocalImpulse(t,e)},o.applyTorque=function(t){this._isInitialized&&this._body.applyTorque(t)},o.applyLocalTorque=function(t){this._isInitialized&&this._body.applyLocalTorque(t)},o.wakeUp=function(){this._isInitialized&&this._body.wakeUp()},o.sleep=function(){this._isInitialized&&this._body.sleep()},o.clearState=function(){this._isInitialized&&this._body.clearState()},o.clearForces=function(){this._isInitialized&&this._body.clearForces()},o.clearVelocity=function(){this._isInitialized&&this._body.clearVelocity()},o.getLinearVelocity=function(t){this._isInitialized&&this._body.getLinearVelocity(t)},o.setLinearVelocity=function(t){this._isInitialized&&this._body.setLinearVelocity(t)},o.getAngularVelocity=function(t){this._isInitialized&&this._body.getAngularVelocity(t)},o.setAngularVelocity=function(t){this._isInitialized&&this._body.setAngularVelocity(t)},o.getGroup=function(){return this._isInitialized?this._body.getGroup():0},o.setGroup=function(t){this._isInitialized&&this._body.setGroup(t)},o.addGroup=function(t){this._isInitialized&&this._body.addGroup(t)},o.removeGroup=function(t){this._isInitialized&&this._body.removeGroup(t)},o.getMask=function(){return this._isInitialized?this._body.getMask():0},o.setMask=function(t){this._isInitialized&&this._body.setMask(t)},o.addMask=function(t){this._isInitialized&&this._body.addMask(t)},o.removeMask=function(t){this._isInitialized&&this._body.removeMask(t)},i(n,[{key:"group",get:function(){return this._group},set:function(t){Number.isInteger(Math.log2(t>>>0))||a("[Physics]: The group should only have one bit."),this._group=t,this._body&&this._body.getGroup()!==t&&this._body.setGroup(t)}},{key:"type",get:function(){return this._type},set:function(t){this._type!==t&&(this._type=t,this._body&&this._body.setType(t))}},{key:"mass",get:function(){return this._mass},set:function(t){t<=0&&a("[Physics]: The mass should be greater than zero."),this._mass!==t&&(t=t<=0?1e-4:t,this._mass=t,this._body&&this._body.setMass(t))}},{key:"allowSleep",get:function(){return this._allowSleep},set:function(t){this._allowSleep=t,this._body&&this._body.setAllowSleep(t)}},{key:"linearDamping",get:function(){return this._linearDamping},set:function(t){(t<0||t>1)&&a("[Physics]: The damping should be between zero to one."),this._linearDamping=t,this._body&&this._body.setLinearDamping(t)}},{key:"angularDamping",get:function(){return this._angularDamping},set:function(t){(t<0||t>1)&&a("[Physics]: The damping should be between zero to one."),this._angularDamping=t,this._body&&this._body.setAngularDamping(t)}},{key:"useGravity",get:function(){return this._useGravity},set:function(t){this._useGravity=t,this._body&&this._body.useGravity(t)}},{key:"linearFactor",get:function(){return this._linearFactor},set:function(t){C.copy(this._linearFactor,t),this._body&&this._body.setLinearFactor(this._linearFactor)}},{key:"angularFactor",get:function(){return this._angularFactor},set:function(t){C.copy(this._angularFactor,t),this._body&&this._body.setAngularFactor(this._angularFactor)}},{key:"sleepThreshold",get:function(){return this._isInitialized?this._body.getSleepThreshold():.1},set:function(t){this._isInitialized&&this._body.setSleepThreshold(t)}},{key:"useCCD",get:function(){return!!this._isInitialized&&this._body.isUsingCCD()},set:function(t){this._isInitialized&&this._body.useCCD(t)}},{key:"isAwake",get:function(){return!!this._isInitialized&&this._body.isAwake}},{key:"isSleepy",get:function(){return!!this._isInitialized&&this._body.isSleepy}},{key:"isSleeping",get:function(){return!!this._isInitialized&&this._body.isSleeping}},{key:"isStatic",get:function(){return this._type===G.STATIC},set:function(t){t&&this.isStatic||!t&&!this.isStatic||(this.type=t?G.STATIC:G.DYNAMIC)}},{key:"isDynamic",get:function(){return this._type===G.DYNAMIC},set:function(t){t&&this.isDynamic||!t&&!this.isDynamic||(this.type=t?G.DYNAMIC:G.KINEMATIC)}},{key:"isKinematic",get:function(){return this._type===G.KINEMATIC},set:function(t){t&&this.isKinematic||!t&&!this.isKinematic||(this.type=t?G.KINEMATIC:G.DYNAMIC)}},{key:"body",get:function(){return this._body}},{key:"_isInitialized",get:function(){var t=null===this._body;return t&&_("[Physics]: This component has not been call onLoad yet, please make sure the node has been added to the scene."),!t}}]),n}(R),Qt.Type=G,n((Vt=Qt).prototype,"group",[zt],Object.getOwnPropertyDescriptor(Vt.prototype,"group"),Vt.prototype),n(Vt.prototype,"type",[Nt],Object.getOwnPropertyDescriptor(Vt.prototype,"type"),Vt.prototype),Wt=v(Vt.prototype,"_group",[b],(function(){return te.PhysicsGroup.DEFAULT})),Gt=v(Vt.prototype,"_type",[b],(function(){return G.DYNAMIC})),qt=v(Vt.prototype,"_mass",[b],(function(){return 1})),Ut=v(Vt.prototype,"_allowSleep",[b],(function(){return!0})),Yt=v(Vt.prototype,"_linearDamping",[b],(function(){return.1})),Xt=v(Vt.prototype,"_angularDamping",[b],(function(){return.1})),Kt=v(Vt.prototype,"_useGravity",[b],(function(){return!0})),Zt=v(Vt.prototype,"_linearFactor",[b],(function(){return new C(1,1,1)})),Jt=v(Vt.prototype,"_angularFactor",[b],(function(){return new C(1,1,1)})),Ht=Vt))||Ht)||Ht)||Ht));le||t("R",le={});var ye,_e,ge,fe,de,me=t("C",(ee=m("cc.Collider"),ie=w(le),ne=w(ft),oe=w(C),re=w(ft),ee((he=function(t){function n(e){var i;return(i=t.call(this)||this).type=void 0,i._shape=null,i._aabb=null,i._boundingSphere=null,i._isSharedMaterial=!0,i._needTriggerEvent=!1,i._needCollisionEvent=!1,i._material=pe&&pe(),i._isTrigger=ce&&ce(),i._center=ue&&ue(),i.type=e,i}e(n,t);var o=n.prototype;return o.on=function(e,i,n,o){var r=t.prototype.on.call(this,e,i,n,o);return this._updateNeedEvent(e),r},o.off=function(e,i,n){t.prototype.off.call(this,e,i,n),this._updateNeedEvent()},o.once=function(e,i,n){var o=t.prototype.once.call(this,e,i,n);return this._updateNeedEvent(e),o},o.removeAll=function(e){t.prototype.removeAll.call(this,e),this._updateNeedEvent()},o.getGroup=function(){return this._isInitialized?this._shape.getGroup():0},o.setGroup=function(t){this._isInitialized&&this._shape.setGroup(t)},o.addGroup=function(t){this._isInitialized&&this._shape.addGroup(t)},o.removeGroup=function(t){this._isInitialized&&this._shape.removeGroup(t)},o.getMask=function(){return this._isInitialized?this._shape.getMask():0},o.setMask=function(t){this._isInitialized&&this._shape.setMask(t)},o.addMask=function(t){this._isInitialized&&this._shape.addMask(t)},o.removeMask=function(t){this._isInitialized&&this._shape.removeMask(t)},o.onLoad=function(){vt.runInEditor&&(this.sharedMaterial=this._material,this._shape=Mt(this.type),this._shape.initialize(this),this._shape.onLoad())},o.onEnable=function(){this._shape&&this._shape.onEnable()},o.onDisable=function(){this._shape&&this._shape.onDisable()},o.onDestroy=function(){this._shape&&(this._needTriggerEvent=!1,this._needCollisionEvent=!1,this._shape.updateEventListener(),this._material&&this._material.off(ft.EVENT_UPDATE,this._updateMaterial,this),this._shape.onDestroy()),this._boundingSphere&&this._boundingSphere.destroy()},o._updateMaterial=function(){this._shape&&this._shape.setMaterial(this._material)},o._updateNeedEvent=function(t){this.isValid&&(void 0!==t?("onCollisionEnter"!==t&&"onCollisionStay"!==t&&"onCollisionExit"!==t||(this._needCollisionEvent=!0),"onTriggerEnter"!==t&&"onTriggerStay"!==t&&"onTriggerExit"!==t&&"onControllerTriggerEnter"!==t&&"onControllerTriggerStay"!==t&&"onControllerTriggerExit"!==t||(this._needTriggerEvent=!0)):(this.hasEventListener("onTriggerEnter")||this.hasEventListener("onTriggerStay")||this.hasEventListener("onTriggerExit")||this.hasEventListener("onControllerTriggerEnter")||this.hasEventListener("onControllerTriggerStay")||this.hasEventListener("onControllerTriggerExit")||(this._needTriggerEvent=!1),this.hasEventListener("onCollisionEnter")||this.hasEventListener("onCollisionStay")||this.hasEventListener("onCollisionExit")||(this._needCollisionEvent=!1)),this._shape&&this._shape.updateEventListener())},i(n,[{key:"attachedRigidBody",get:function(){return t=this.node,(e=t.getComponent(le))&&e.isValid?e:null;var t,e}},{key:"sharedMaterial",get:function(){return this._material},set:function(t){this.material=t}},{key:"material",get:function(){return this._isSharedMaterial&&this._material&&(this._material.off(ft.EVENT_UPDATE,this._updateMaterial,this),this._material=this._material.clone(),this._material.on(ft.EVENT_UPDATE,this._updateMaterial,this),this._isSharedMaterial=!1),this._material},set:function(t){this._shape?(t&&this._material?this._material.id!==t.id&&(this._material.off(ft.EVENT_UPDATE,this._updateMaterial,this),t.on(ft.EVENT_UPDATE,this._updateMaterial,this),this._isSharedMaterial=!1,this._material=t):t&&!this._material?(t.on(ft.EVENT_UPDATE,this._updateMaterial,this),this._material=t):!t&&this._material&&(this._material.off(ft.EVENT_UPDATE,this._updateMaterial,this),this._material=t),this._updateMaterial()):this._material=t}},{key:"isTrigger",get:function(){return this._isTrigger},set:function(t){this._isTrigger=t,this._shape&&this._shape.setAsTrigger(this._isTrigger)}},{key:"center",get:function(){return this._center},set:function(t){C.copy(this._center,t),this._shape&&this._shape.setCenter(this._center)}},{key:"shape",get:function(){return this._shape}},{key:"worldBounds",get:function(){return null==this._aabb&&(this._aabb=new O),this._shape&&this._shape.getAABB(this._aabb),this._aabb}},{key:"boundingSphere",get:function(){return null==this._boundingSphere&&(this._boundingSphere=new T),this._shape&&this._shape.getBoundingSphere(this._boundingSphere),this._boundingSphere}},{key:"needTriggerEvent",get:function(){return this._needTriggerEvent}},{key:"needCollisionEvent",get:function(){return this._needCollisionEvent}},{key:"_isInitialized",get:function(){var t=null===this._shape;return t&&_("[Physics]: This component has not been call onLoad yet, please make sure the node has been added to the scene."),!t}}]),n}(g(R)),he.Type=z,he.Axis=q,n((ae=he).prototype,"attachedRigidBody",[ie],Object.getOwnPropertyDescriptor(ae.prototype,"attachedRigidBody"),ae.prototype),n(ae.prototype,"sharedMaterial",[ne],Object.getOwnPropertyDescriptor(ae.prototype,"sharedMaterial"),ae.prototype),n(ae.prototype,"center",[oe],Object.getOwnPropertyDescriptor(ae.prototype,"center"),ae.prototype),pe=v(ae.prototype,"_material",[re],(function(){return null})),ce=v(ae.prototype,"_isTrigger",[b],(function(){return!1})),ue=v(ae.prototype,"_center",[b],(function(){return new C})),se=ae))||se));me||t("C",me={});var we,ve,Se,be,Ce,De,ke,Ee,Pe,Oe,Te,Me,Le,xe,Ae,Ie,Fe,Be,je,Re,ze,Ne,He,Ve,We,Ge,qe,Ue,Ye,Xe,Ke,Ze,Je,Qe,$e,ti,ei,ii,ni,oi,ri,si,ai,pi,ci,ui,hi,li,yi,_i,gi,fi,di,mi,wi=t("B",(ye=m("cc.BoxCollider"),_e=w(C),ye((fe=function(t){function n(){var e;return(e=t.call(this,z.BOX)||this)._size=de&&de(),e}return e(n,t),i(n,[{key:"size",get:function(){return this._size},set:function(t){C.strictEquals(this._size,t)||(C.copy(this._size,t),$(this._size),this._shape&&this.shape.updateSize())}},{key:"shape",get:function(){return this._shape}}]),n}(me),n(fe.prototype,"size",[_e],Object.getOwnPropertyDescriptor(fe.prototype,"size"),fe.prototype),de=v(fe.prototype,"_size",[b],(function(){return new C(1,1,1)})),ge=fe))||ge)),vi=t("S",m("cc.SphereCollider")((ve=function(t){function n(){var e;return(e=t.call(this,z.SPHERE)||this)._radius=Se&&Se(),e}return e(n,t),i(n,[{key:"radius",get:function(){return this._radius},set:function(t){this._radius!==t&&(this._radius=Math.abs(t),this._shape&&this.shape.updateRadius())}},{key:"shape",get:function(){return this._shape}}]),n}(me),Se=v(ve.prototype,"_radius",[b],(function(){return.5})),we=ve))||we),Si=t("b",(be=m("cc.CapsuleCollider"),Ce=w(q),be((ke=function(t){function n(){var e;return(e=t.call(this,z.CAPSULE)||this)._radius=Ee&&Ee(),e._cylinderHeight=Pe&&Pe(),e._direction=Oe&&Oe(),e}e(n,t);var o=n.prototype;return o._getRadiusScale=function(){if(null==this.node)return 1;var t=this.node.worldScale;return this._direction===q.Y_AXIS?Math.abs(M(t.x,t.z)):this._direction===q.X_AXIS?Math.abs(M(t.y,t.z)):Math.abs(M(t.x,t.y))},o._getHeightScale=function(){if(null==this.node)return 1;var t=this.node.worldScale;return this._direction===q.Y_AXIS?Math.abs(t.y):this._direction===q.X_AXIS?Math.abs(t.x):Math.abs(t.z)},i(n,[{key:"radius",get:function(){return this._radius},set:function(t){this._radius!==t&&(this._radius=Math.abs(t),this._shape&&this.shape.setRadius(t))}},{key:"cylinderHeight",get:function(){return this._cylinderHeight},set:function(t){this._cylinderHeight!==t&&(this._cylinderHeight=Math.abs(t),this._shape&&this.shape.setCylinderHeight(t))}},{key:"direction",get:function(){return this._direction},set:function(t){(t=Math.floor(t))<q.X_AXIS||t>q.Z_AXIS||this._direction!==t&&(this._direction=t,this._shape&&this.shape.setDirection(t))}},{key:"height",get:function(){return 2*this._radius+this._cylinderHeight},set:function(t){var e=t-2*this._radius;e<0&&(e=0),this.cylinderHeight=e}},{key:"worldHeight",get:function(){return 2*this._radius*this._getRadiusScale()+this._cylinderHeight*this._getHeightScale()}},{key:"shape",get:function(){return this._shape}}]),n}(me),n(ke.prototype,"direction",[Ce],Object.getOwnPropertyDescriptor(ke.prototype,"direction"),ke.prototype),Ee=v(ke.prototype,"_radius",[b],(function(){return.5})),Pe=v(ke.prototype,"_cylinderHeight",[b],(function(){return 1})),Oe=v(ke.prototype,"_direction",[b],(function(){return q.Y_AXIS})),De=ke))||De)),bi=t("d",(Te=m("cc.CylinderCollider"),Me=w(q),Te((xe=function(t){function n(){var e;return(e=t.call(this,z.CYLINDER)||this)._radius=Ae&&Ae(),e._height=Ie&&Ie(),e._direction=Fe&&Fe(),e}return e(n,t),i(n,[{key:"radius",get:function(){return this._radius},set:function(t){this._radius!==t&&(this._radius=Math.abs(t),this._shape&&this.shape.setRadius(t))}},{key:"height",get:function(){return this._height},set:function(t){this._height!==t&&(this._height=Math.abs(t),this._shape&&this.shape.setHeight(t))}},{key:"direction",get:function(){return this._direction},set:function(t){this._direction!==t&&(t<q.X_AXIS||t>q.Z_AXIS||(this._direction=t,this._shape&&this.shape.setDirection(t)))}},{key:"shape",get:function(){return this._shape}}]),n}(me),n(xe.prototype,"direction",[Me],Object.getOwnPropertyDescriptor(xe.prototype,"direction"),xe.prototype),Ae=v(xe.prototype,"_radius",[b],(function(){return.5})),Ie=v(xe.prototype,"_height",[b],(function(){return 2})),Fe=v(xe.prototype,"_direction",[b],(function(){return q.Y_AXIS})),Le=xe))||Le)),Ci=t("i",(Be=m("cc.ConeCollider"),je=w(q),Be((ze=function(t){function n(){var e;return(e=t.call(this,z.CONE)||this)._radius=Ne&&Ne(),e._height=He&&He(),e._direction=Ve&&Ve(),e}return e(n,t),i(n,[{key:"radius",get:function(){return this._radius},set:function(t){this._radius!==t&&(this._radius=Math.abs(t),this._shape&&this.shape.setRadius(t))}},{key:"height",get:function(){return this._height},set:function(t){this._height!==t&&(t<0&&(t=0),this._height=t,this._shape&&this.shape.setHeight(t))}},{key:"direction",get:function(){return this._direction},set:function(t){this._direction!==t&&(t<q.X_AXIS||t>q.Z_AXIS||(this._direction=t,this._shape&&this.shape.setDirection(t)))}},{key:"shape",get:function(){return this._shape}}]),n}(me),n(ze.prototype,"direction",[je],Object.getOwnPropertyDescriptor(ze.prototype,"direction"),ze.prototype),Ne=v(ze.prototype,"_radius",[b],(function(){return.5})),He=v(ze.prototype,"_height",[b],(function(){return 1})),Ve=v(ze.prototype,"_direction",[b],(function(){return q.Y_AXIS})),Re=ze))||Re)),Di=t("M",(We=m("cc.MeshCollider"),Ge=w(et),We((Ue=function(t){function n(){var e;return(e=t.call(this,z.MESH)||this)._mesh=Ye&&Ye(),e._convex=Xe&&Xe(),e}return e(n,t),n.prototype.onEnable=function(){if(t.prototype.onEnable.call(this),this.node){var e=this.node.getComponent(le);e&&e.isValid&&e.type===G.DYNAMIC&&!this.convex&&h(9630,this.node.name)}},i(n,[{key:"mesh",get:function(){return this._mesh},set:function(t){this._mesh!==t&&(this._mesh=t,this._shape&&this.shape.setMesh(this._mesh))}},{key:"convex",get:function(){return this._convex},set:function(t){this._convex!==t&&(this._convex=t,this._shape&&this._mesh&&this.shape.setMesh(this._mesh))}},{key:"shape",get:function(){return this._shape}}]),n}(me),n(Ue.prototype,"mesh",[Ge],Object.getOwnPropertyDescriptor(Ue.prototype,"mesh"),Ue.prototype),Ye=v(Ue.prototype,"_mesh",[b],(function(){return null})),Xe=v(Ue.prototype,"_convex",[b],(function(){return!1})),qe=Ue))||qe)),ki=t("f",m("cc.ConstantForce")(Ke=L(le)(Ke=E((Ze=function(t){function n(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this)._rigidBody=null,e._force=Je&&Je(),e._localForce=Qe&&Qe(),e._torque=$e&&$e(),e._localTorque=ti&&ti(),e._mask=0,e}e(n,t);var o=n.prototype;return o.onLoad=function(){this._rigidBody=this.node.getComponent(le),this._maskUpdate(this._force,1),this._maskUpdate(this._localForce,2),this._maskUpdate(this._torque,4),this._maskUpdate(this._localTorque,8)},o.lateUpdate=function(){null!=this._rigidBody&&0!==this._mask&&(1&this._mask&&this._rigidBody.applyForce(this._force),2&this._mask&&this._rigidBody.applyLocalForce(this.localForce),4&this._mask&&this._rigidBody.applyTorque(this._torque),8&this._mask&&this._rigidBody.applyLocalTorque(this._localTorque))},o._maskUpdate=function(t,e){t.strictEquals(C.ZERO)?this._mask&=~e:this._mask|=e},i(n,[{key:"force",get:function(){return this._force},set:function(t){C.copy(this._force,t),this._maskUpdate(this._force,1)}},{key:"localForce",get:function(){return this._localForce},set:function(t){C.copy(this._localForce,t),this._maskUpdate(this.localForce,2)}},{key:"torque",get:function(){return this._torque},set:function(t){C.copy(this._torque,t),this._maskUpdate(this._torque,4)}},{key:"localTorque",get:function(){return this._localTorque},set:function(t){C.copy(this._localTorque,t),this._maskUpdate(this._localTorque,8)}}]),n}(R),Je=v(Ze.prototype,"_force",[b],(function(){return new C})),Qe=v(Ze.prototype,"_localForce",[b],(function(){return new C})),$e=v(Ze.prototype,"_torque",[b],(function(){return new C})),ti=v(Ze.prototype,"_localTorque",[b],(function(){return new C})),Ke=Ze))||Ke)||Ke)||Ke),Ei=t("T",(ei=m("cc.TerrainCollider"),ii=w(it),ei((oi=function(t){function n(){var e;return(e=t.call(this,z.TERRAIN)||this)._terrain=ri&&ri(),e}return e(n,t),n.prototype.onEnable=function(){if(t.prototype.onEnable.call(this),this.node){var e=this.node.getComponent(le);e&&e.isValid&&e.type===G.DYNAMIC&&h(9630,this.node.name)}},i(n,[{key:"terrain",get:function(){return this._terrain},set:function(t){this._terrain=t,this._shape&&this.shape.setTerrain(this._terrain)}},{key:"shape",get:function(){return this._shape}}]),n}(me),n(oi.prototype,"terrain",[ii],Object.getOwnPropertyDescriptor(oi.prototype,"terrain"),oi.prototype),ri=v(oi.prototype,"_terrain",[b],(function(){return null})),ni=oi))||ni)),Pi=t("j",(si=m("cc.SimplexCollider"),ai=w(U),si((li=function(t){function n(){var e;return(e=t.call(this,z.SIMPLEX)||this)._shapeType=ui&&ui(),e._vertices=hi&&hi(),e}return e(n,t),n.prototype.updateVertices=function(){this._shape&&this.shape.setVertices(this._vertices)},i(n,[{key:"shapeType",get:function(){return this._shapeType},set:function(t){this._shapeType=t,this._shape&&this.shape.setShapeType(t)}},{key:"vertex0",get:function(){return this._vertices[0]},set:function(t){C.copy(this._vertices[0],t),this.updateVertices()}},{key:"vertex1",get:function(){return this._vertices[1]},set:function(t){C.copy(this._vertices[1],t),this.updateVertices()}},{key:"vertex2",get:function(){return this._vertices[2]},set:function(t){C.copy(this._vertices[2],t),this.updateVertices()}},{key:"vertex3",get:function(){return this._vertices[3]},set:function(t){C.copy(this._vertices[3],t),this.updateVertices()}},{key:"shape",get:function(){return this._shape}},{key:"vertices",get:function(){return this._vertices}}]),n}(me),li.ESimplexType=U,n((ci=li).prototype,"shapeType",[ai],Object.getOwnPropertyDescriptor(ci.prototype,"shapeType"),ci.prototype),ui=v(ci.prototype,"_shapeType",[b],(function(){return U.TETRAHEDRON})),hi=v(ci.prototype,"_vertices",[b],(function(){return[new C(0,0,0),new C(0,0,1),new C(1,0,0),new C(0,1,0)]})),pi=ci))||pi));Pi||t("j",Pi={});var Oi,Ti,Mi,Li,xi,Ai,Ii,Fi,Bi,ji,Ri,zi,Ni,Hi,Vi,Wi,Gi,qi,Ui,Yi,Xi,Ki,Zi,Ji,Qi,$i,tn,en,nn,on,rn,sn,an,pn,cn,un,hn,ln,yn,_n,gn,fn,dn,mn,wn,vn,Sn,bn,Cn,Dn,kn,En,Pn,On,Tn,Mn,Ln=t("k",(yi=m("cc.PlaneCollider"),_i=w(C),yi((fi=function(t){function n(){var e;return(e=t.call(this,z.PLANE)||this)._normal=di&&di(),e._constant=mi&&mi(),e}return e(n,t),n.prototype.onEnable=function(){if(t.prototype.onEnable.call(this),this.node){var e=this.node.getComponent(le);e&&e.isValid&&e.type===G.DYNAMIC&&h(9630,this.node.name)}},i(n,[{key:"normal",get:function(){return this._normal},set:function(t){C.strictEquals(this._normal,t)||(C.copy(this._normal,t),this._shape&&this.shape.setNormal(this._normal))}},{key:"constant",get:function(){return this._constant},set:function(t){this._constant!==t&&(this._constant=t,this._shape&&this.shape.setConstant(this._constant))}},{key:"shape",get:function(){return this._shape}}]),n}(me),n(fi.prototype,"normal",[_i],Object.getOwnPropertyDescriptor(fi.prototype,"normal"),fi.prototype),di=v(fi.prototype,"_normal",[b],(function(){return new C(0,1,0)})),mi=v(fi.prototype,"_constant",[b],(function(){return 0})),gi=fi))||gi)),xn=t("a",(Oi=m("cc.Constraint"),Ti=L(le),Mi=w(le),Li=w(le),xi=w(le),Oi(Ai=Ti((ji=function(t){function n(e){var i;return(i=t.call(this)||this).TYPE=void 0,i._enableCollision=Fi&&Fi(),i._connectedBody=Bi&&Bi(),i._constraint=null,i.TYPE=e,i}e(n,t);var o=n.prototype;return o.onLoad=function(){vt.runInEditor&&(this._constraint=At(this.TYPE),this._constraint.initialize(this))},o.onEnable=function(){this._constraint&&this._constraint.onEnable()},o.onDisable=function(){this._constraint&&this._constraint.onDisable()},o.onDestroy=function(){this._constraint&&this._constraint.onDestroy()},i(n,[{key:"attachedBody",get:function(){return this.getComponent(le)}},{key:"connectedBody",get:function(){return this._connectedBody},set:function(t){this._connectedBody=t,this._constraint&&this._constraint.setConnectedBody(t)}},{key:"enableCollision",get:function(){return this._enableCollision},set:function(t){this._enableCollision=t,this._constraint&&this._constraint.setEnableCollision(t)}}]),n}(g(R)),ji.Type=N,n((Ii=ji).prototype,"attachedBody",[Mi],Object.getOwnPropertyDescriptor(Ii.prototype,"attachedBody"),Ii.prototype),n(Ii.prototype,"connectedBody",[Li],Object.getOwnPropertyDescriptor(Ii.prototype,"connectedBody"),Ii.prototype),Fi=v(Ii.prototype,"_enableCollision",[b],(function(){return!0})),Bi=v(Ii.prototype,"_connectedBody",[xi],(function(){return null})),Ai=Ii))||Ai)||Ai));xn||t("a",xn={});var An,In,Fn,Bn,jn,Rn,zn,Nn,Hn,Vn,Wn,Gn,qn,Un,Yn,Xn,Kn,Zn,Jn,Qn,$n,to,eo,io,no,oo,ro,so,ao,po,co,uo,ho,lo,yo,_o,go,fo,mo,wo,vo,So,bo,Co,Do,ko,Eo,Po,Oo,To,Mo,Lo,xo,Ao,Io,Fo,Bo,jo,Ro,zo,No,Ho,Vo,Wo,Go,qo,Uo,Yo,Xo,Ko,Zo,Jo,Qo,$o,tr,er,ir,nr,or,rr,sr,ar,pr,cr,ur,hr,lr,yr,_r,gr,fr,dr,mr,wr,vr,Sr,br,Cr,Dr,kr,Er,Pr,Or,Tr,Mr,Lr,xr,Ar,Ir,Fr,Br,jr,Rr,zr,Nr,Hr,Vr,Wr,Gr,qr,Ur,Yr,Xr,Kr,Zr,Jr,Qr,$r,ts,es,is,ns,os,rs,ss,as,ps,cs,us,hs,ls,ys,_s,gs,fs,ds,ms,ws,vs,Ss,bs,Cs,Ds=(Ri=m("cc.HingeLimitData"),zi=x("enabled"),Ni=x("upperLimit"),Hi=x("lowerLimit"),Vi=w(f),Wi=w(o),Gi=w(o),Ri((Ui=function(){function t(){this._enabled=Yi&&Yi(),this._upperLimit=Xi&&Xi(),this._lowerLimit=Ki&&Ki()}return i(t,[{key:"enabled",get:function(){return this._enabled},set:function(t){this._enabled=t}},{key:"upperLimit",get:function(){return this._upperLimit},set:function(t){this._upperLimit=t}},{key:"lowerLimit",get:function(){return this._lowerLimit},set:function(t){this._lowerLimit=t}}]),t}(),Yi=v(Ui.prototype,"_enabled",[b,zi],(function(){return!1})),Xi=v(Ui.prototype,"_upperLimit",[b,Ni],(function(){return Number.MAX_VALUE})),Ki=v(Ui.prototype,"_lowerLimit",[b,Hi],(function(){return-Number.MAX_VALUE})),n(Ui.prototype,"enabled",[Vi],Object.getOwnPropertyDescriptor(Ui.prototype,"enabled"),Ui.prototype),n(Ui.prototype,"upperLimit",[Wi],Object.getOwnPropertyDescriptor(Ui.prototype,"upperLimit"),Ui.prototype),n(Ui.prototype,"lowerLimit",[Gi],Object.getOwnPropertyDescriptor(Ui.prototype,"lowerLimit"),Ui.prototype),qi=Ui))||qi),ks=(Zi=m("cc.HingeMotorData"),Ji=x("enabled"),Qi=x("motorVelocity"),$i=x("motorForceLimit"),tn=w(f),en=w(o),nn=w(o),Zi((rn=function(){function t(){this._enabled=sn&&sn(),this._motorVelocity=an&&an(),this._motorForceLimit=pn&&pn()}return i(t,[{key:"enabled",get:function(){return this._enabled},set:function(t){this._enabled=t}},{key:"motorVelocity",get:function(){return this._motorVelocity},set:function(t){this._motorVelocity=t}},{key:"motorForceLimit",get:function(){return this._motorForceLimit},set:function(t){this._motorForceLimit=t}}]),t}(),sn=v(rn.prototype,"_enabled",[b,Ji],(function(){return!1})),an=v(rn.prototype,"_motorVelocity",[b,Qi],(function(){return 0})),pn=v(rn.prototype,"_motorForceLimit",[b,$i],(function(){return 0})),n(rn.prototype,"enabled",[tn],Object.getOwnPropertyDescriptor(rn.prototype,"enabled"),rn.prototype),n(rn.prototype,"motorVelocity",[en],Object.getOwnPropertyDescriptor(rn.prototype,"motorVelocity"),rn.prototype),n(rn.prototype,"motorForceLimit",[nn],Object.getOwnPropertyDescriptor(rn.prototype,"motorForceLimit"),rn.prototype),on=rn))||on),Es=t("H",(cn=m("cc.HingeConstraint"),un=w(C),hn=w(C),ln=w(C),yn=w(f),_n=w(o),gn=w(o),fn=w(f),dn=w(o),mn=w(o),wn=x("axisA"),vn=x("pivotA"),Sn=x("pivotB"),bn=x("limitData"),Cn=x("motorData"),cn((kn=function(t){function n(){var e;return(e=t.call(this,N.HINGE)||this)._axis=En&&En(),e._pivotA=Pn&&Pn(),e._pivotB=On&&On(),e._limitData=Tn&&Tn(),e._motorData=Mn&&Mn(),e}return e(n,t),i(n,[{key:"pivotA",get:function(){return this._pivotA},set:function(t){C.copy(this._pivotA,t),this.constraint.setPivotA(this._pivotA)}},{key:"pivotB",get:function(){return this._pivotB},set:function(t){C.copy(this._pivotB,t),this.constraint.setPivotB(this._pivotB)}},{key:"axis",get:function(){return this._axis},set:function(t){C.copy(this._axis,t),this.constraint.setAxis(this._axis)}},{key:"limitEnabled",get:function(){return this._limitData.enabled},set:function(t){this._limitData.enabled=t,this.constraint.setLimitEnabled(t)}},{key:"upperLimit",get:function(){return this._limitData.upperLimit},set:function(t){this._limitData.upperLimit=t,this.constraint.setUpperLimit(t)}},{key:"lowerLimit",get:function(){return this._limitData.lowerLimit},set:function(t){this._limitData.lowerLimit=t,this.constraint.setLowerLimit(t)}},{key:"motorEnabled",get:function(){return this._motorData.enabled},set:function(t){this._motorData.enabled=t,this.constraint.setMotorEnabled(t)}},{key:"motorVelocity",get:function(){return this._motorData.motorVelocity},set:function(t){this._motorData.motorVelocity=t,this.constraint.setMotorVelocity(t)}},{key:"motorForceLimit",get:function(){return this._motorData.motorForceLimit},set:function(t){this._motorData.motorForceLimit=t,this.constraint.setMotorForceLimit(t)}},{key:"constraint",get:function(){return this._constraint}}]),n}(xn),n(kn.prototype,"pivotA",[un],Object.getOwnPropertyDescriptor(kn.prototype,"pivotA"),kn.prototype),n(kn.prototype,"pivotB",[hn],Object.getOwnPropertyDescriptor(kn.prototype,"pivotB"),kn.prototype),n(kn.prototype,"axis",[ln],Object.getOwnPropertyDescriptor(kn.prototype,"axis"),kn.prototype),n(kn.prototype,"limitEnabled",[yn],Object.getOwnPropertyDescriptor(kn.prototype,"limitEnabled"),kn.prototype),n(kn.prototype,"upperLimit",[_n],Object.getOwnPropertyDescriptor(kn.prototype,"upperLimit"),kn.prototype),n(kn.prototype,"lowerLimit",[gn],Object.getOwnPropertyDescriptor(kn.prototype,"lowerLimit"),kn.prototype),n(kn.prototype,"motorEnabled",[fn],Object.getOwnPropertyDescriptor(kn.prototype,"motorEnabled"),kn.prototype),n(kn.prototype,"motorVelocity",[dn],Object.getOwnPropertyDescriptor(kn.prototype,"motorVelocity"),kn.prototype),n(kn.prototype,"motorForceLimit",[mn],Object.getOwnPropertyDescriptor(kn.prototype,"motorForceLimit"),kn.prototype),En=v(kn.prototype,"_axis",[b,wn],(function(){return new C})),Pn=v(kn.prototype,"_pivotA",[b,vn],(function(){return new C})),On=v(kn.prototype,"_pivotB",[b,Sn],(function(){return new C})),Tn=v(kn.prototype,"_limitData",[b,bn],(function(){return new Ds})),Mn=v(kn.prototype,"_motorData",[b,Cn],(function(){return new ks})),Dn=kn))||Dn)),Ps=t("F",(An=m("cc.FixedConstraint"),In=w(o),Fn=w(o),Bn=x("breakForce"),jn=x("breakTorque"),An((zn=function(t){function n(){var e;return(e=t.call(this,N.FIXED)||this)._breakForce=Nn&&Nn(),e._breakTorque=Hn&&Hn(),e}return e(n,t),i(n,[{key:"breakForce",get:function(){return this._breakForce},set:function(t){this._breakForce=t,this.constraint.setBreakForce(t)}},{key:"breakTorque",get:function(){return this._breakTorque},set:function(t){this._breakTorque=t,this.constraint.setBreakTorque(t)}},{key:"constraint",get:function(){return this._constraint}}]),n}(xn),n(zn.prototype,"breakForce",[In],Object.getOwnPropertyDescriptor(zn.prototype,"breakForce"),zn.prototype),n(zn.prototype,"breakTorque",[Fn],Object.getOwnPropertyDescriptor(zn.prototype,"breakTorque"),zn.prototype),Nn=v(zn.prototype,"_breakForce",[b,Bn],(function(){return 1e8})),Hn=v(zn.prototype,"_breakTorque",[b,jn],(function(){return 1e8})),Rn=zn))||Rn)),Os=(Vn=m("cc.LinearLimitSettings"),Wn=w(Y),Gn=w(Y),qn=w(Y),Un=w(C),Yn=w(C),Xn=w(o),Kn=w(f),Zn=w(o),Jn=w(o),Vn(($n=function(){function t(t){this._xMotion=to&&to(),this._yMotion=eo&&eo(),this._zMotion=io&&io(),this._upper=no&&no(),this._lower=oo&&oo(),this._enableSoftConstraint=ro&&ro(),this._bounciness=so&&so(),this._stiffness=ao&&ao(),this._damping=po&&po(),this._impl=void 0,this._impl=t}return i(t,[{key:"xMotion",get:function(){return this._xMotion},set:function(t){this._xMotion=t,this._impl.setConstraintMode(0,t)}},{key:"yMotion",get:function(){return this._yMotion},set:function(t){this._yMotion=t,this._impl.setConstraintMode(1,t)}},{key:"zMotion",get:function(){return this._zMotion},set:function(t){this._zMotion=t,this._impl.setConstraintMode(2,t)}},{key:"upper",get:function(){return this._upper},set:function(t){C.copy(this._upper,t);var e=this.lower;this._impl.setLinearLimit(0,e.x,t.x),this._impl.setLinearLimit(1,e.y,t.y),this._impl.setLinearLimit(2,e.z,t.z)}},{key:"lower",get:function(){return this._lower},set:function(t){C.copy(this._lower,t);var e=this.upper;this._impl.setLinearLimit(0,t.x,e.x),this._impl.setLinearLimit(1,t.y,e.y),this._impl.setLinearLimit(2,t.z,e.z)}},{key:"restitution",get:function(){return this._bounciness},set:function(t){this._bounciness=t,this._impl.setLinearRestitution(t)}},{key:"enableSoftConstraint",get:function(){return this._enableSoftConstraint},set:function(t){this._enableSoftConstraint=t,this._impl.setLinearSoftConstraint(t)}},{key:"stiffness",get:function(){return this._stiffness},set:function(t){this._stiffness=t,this._impl.setLinearStiffness(t)}},{key:"damping",get:function(){return this._damping},set:function(t){this._damping=t,this._impl.setLinearDamping(t)}},{key:"impl",set:function(t){this._impl=t}}]),t}(),n($n.prototype,"xMotion",[Wn],Object.getOwnPropertyDescriptor($n.prototype,"xMotion"),$n.prototype),n($n.prototype,"yMotion",[Gn],Object.getOwnPropertyDescriptor($n.prototype,"yMotion"),$n.prototype),n($n.prototype,"zMotion",[qn],Object.getOwnPropertyDescriptor($n.prototype,"zMotion"),$n.prototype),n($n.prototype,"upper",[Un],Object.getOwnPropertyDescriptor($n.prototype,"upper"),$n.prototype),n($n.prototype,"lower",[Yn],Object.getOwnPropertyDescriptor($n.prototype,"lower"),$n.prototype),n($n.prototype,"restitution",[Xn],Object.getOwnPropertyDescriptor($n.prototype,"restitution"),$n.prototype),n($n.prototype,"enableSoftConstraint",[Kn],Object.getOwnPropertyDescriptor($n.prototype,"enableSoftConstraint"),$n.prototype),n($n.prototype,"stiffness",[Zn],Object.getOwnPropertyDescriptor($n.prototype,"stiffness"),$n.prototype),n($n.prototype,"damping",[Jn],Object.getOwnPropertyDescriptor($n.prototype,"damping"),$n.prototype),to=v($n.prototype,"_xMotion",[b],(function(){return Y.FREE})),eo=v($n.prototype,"_yMotion",[b],(function(){return Y.FREE})),io=v($n.prototype,"_zMotion",[b],(function(){return Y.FREE})),no=v($n.prototype,"_upper",[b],(function(){return new C})),oo=v($n.prototype,"_lower",[b],(function(){return new C})),ro=v($n.prototype,"_enableSoftConstraint",[b],(function(){return!1})),so=v($n.prototype,"_bounciness",[b],(function(){return 0})),ao=v($n.prototype,"_stiffness",[b],(function(){return 0})),po=v($n.prototype,"_damping",[b],(function(){return 0})),Qn=$n))||Qn),Ts=(co=m("cc.AngularLimitSettings"),uo=w(Y),ho=w(Y),lo=w(Y),yo=w(o),_o=w(o),go=w(o),fo=w(o),mo=w(o),wo=w(f),vo=w(o),So=w(o),bo=w(f),Co=w(o),Do=w(o),co((Eo=function(){function t(t){this._swing1Motion=Po&&Po(),this._swing2Motion=Oo&&Oo(),this._twistMotion=To&&To(),this._twistExtent=Mo&&Mo(),this._swingExtent1=Lo&&Lo(),this._swingExtent2=xo&&xo(),this._enableSoftConstraintSwing=Ao&&Ao(),this._swingBounciness=Io&&Io(),this._swingStiffness=Fo&&Fo(),this._swingDamping=Bo&&Bo(),this._enableSoftConstraintTwist=jo&&jo(),this._twistBounciness=Ro&&Ro(),this._twistStiffness=zo&&zo(),this._twistDamping=No&&No(),this._impl=void 0,this._impl=t}return i(t,[{key:"twistMotion",get:function(){return this._twistMotion},set:function(t){this._twistMotion=t,this._impl.setConstraintMode(3,t)}},{key:"swingMotion1",get:function(){return this._swing1Motion},set:function(t){this._swing1Motion=t,this._impl.setConstraintMode(4,t)}},{key:"swingMotion2",get:function(){return this._swing2Motion},set:function(t){this._swing2Motion=t,this._impl.setConstraintMode(5,t)}},{key:"twistExtent",get:function(){return this._twistExtent},set:function(t){this._twistExtent=t,this._impl.setAngularExtent(t,this.swingExtent1,this.swingExtent2)}},{key:"swingExtent1",get:function(){return this._swingExtent1},set:function(t){this._swingExtent1=t,this._impl.setAngularExtent(this.twistExtent,t,this.swingExtent2)}},{key:"swingExtent2",get:function(){return this._swingExtent2},set:function(t){this._swingExtent2=t,this._impl.setAngularExtent(this.twistExtent,this.swingExtent1,t)}},{key:"twistRestitution",get:function(){return this._twistBounciness},set:function(t){this._twistBounciness=t,this._impl.setTwistRestitution(t)}},{key:"swingRestitution",get:function(){return this._swingBounciness},set:function(t){this._swingBounciness=t,this._impl.setSwingRestitution(t)}},{key:"enableSoftConstraintTwist",get:function(){return this._enableSoftConstraintTwist},set:function(t){this._enableSoftConstraintTwist=t,this._impl.setTwistSoftConstraint(t)}},{key:"twistStiffness",get:function(){return this._twistStiffness},set:function(t){this._twistStiffness=t,this._impl.setTwistStiffness(t)}},{key:"twistDamping",get:function(){return this._twistDamping},set:function(t){this._twistDamping=t,this._impl.setTwistDamping(t)}},{key:"enableSoftConstraintSwing",get:function(){return this._enableSoftConstraintSwing},set:function(t){this._enableSoftConstraintSwing=t,this._impl.setSwingSoftConstraint(t)}},{key:"swingStiffness",get:function(){return this._swingStiffness},set:function(t){this._swingStiffness=t,this._impl.setSwingStiffness(t)}},{key:"swingDamping",get:function(){return this._swingDamping},set:function(t){this._swingDamping=t,this._impl.setSwingDamping(t)}},{key:"impl",set:function(t){this._impl=t}}]),t}(),n(Eo.prototype,"twistMotion",[uo],Object.getOwnPropertyDescriptor(Eo.prototype,"twistMotion"),Eo.prototype),n(Eo.prototype,"swingMotion1",[ho],Object.getOwnPropertyDescriptor(Eo.prototype,"swingMotion1"),Eo.prototype),n(Eo.prototype,"swingMotion2",[lo],Object.getOwnPropertyDescriptor(Eo.prototype,"swingMotion2"),Eo.prototype),n(Eo.prototype,"twistExtent",[yo],Object.getOwnPropertyDescriptor(Eo.prototype,"twistExtent"),Eo.prototype),n(Eo.prototype,"swingExtent1",[_o],Object.getOwnPropertyDescriptor(Eo.prototype,"swingExtent1"),Eo.prototype),n(Eo.prototype,"swingExtent2",[go],Object.getOwnPropertyDescriptor(Eo.prototype,"swingExtent2"),Eo.prototype),n(Eo.prototype,"twistRestitution",[fo],Object.getOwnPropertyDescriptor(Eo.prototype,"twistRestitution"),Eo.prototype),n(Eo.prototype,"swingRestitution",[mo],Object.getOwnPropertyDescriptor(Eo.prototype,"swingRestitution"),Eo.prototype),n(Eo.prototype,"enableSoftConstraintTwist",[wo],Object.getOwnPropertyDescriptor(Eo.prototype,"enableSoftConstraintTwist"),Eo.prototype),n(Eo.prototype,"twistStiffness",[vo],Object.getOwnPropertyDescriptor(Eo.prototype,"twistStiffness"),Eo.prototype),n(Eo.prototype,"twistDamping",[So],Object.getOwnPropertyDescriptor(Eo.prototype,"twistDamping"),Eo.prototype),n(Eo.prototype,"enableSoftConstraintSwing",[bo],Object.getOwnPropertyDescriptor(Eo.prototype,"enableSoftConstraintSwing"),Eo.prototype),n(Eo.prototype,"swingStiffness",[Co],Object.getOwnPropertyDescriptor(Eo.prototype,"swingStiffness"),Eo.prototype),n(Eo.prototype,"swingDamping",[Do],Object.getOwnPropertyDescriptor(Eo.prototype,"swingDamping"),Eo.prototype),Po=v(Eo.prototype,"_swing1Motion",[b],(function(){return Y.FREE})),Oo=v(Eo.prototype,"_swing2Motion",[b],(function(){return Y.FREE})),To=v(Eo.prototype,"_twistMotion",[b],(function(){return Y.FREE})),Mo=v(Eo.prototype,"_twistExtent",[b],(function(){return 0})),Lo=v(Eo.prototype,"_swingExtent1",[b],(function(){return 0})),xo=v(Eo.prototype,"_swingExtent2",[b],(function(){return 0})),Ao=v(Eo.prototype,"_enableSoftConstraintSwing",[b],(function(){return!1})),Io=v(Eo.prototype,"_swingBounciness",[b],(function(){return 0})),Fo=v(Eo.prototype,"_swingStiffness",[b],(function(){return 0})),Bo=v(Eo.prototype,"_swingDamping",[b],(function(){return 0})),jo=v(Eo.prototype,"_enableSoftConstraintTwist",[b],(function(){return!1})),Ro=v(Eo.prototype,"_twistBounciness",[b],(function(){return 0})),zo=v(Eo.prototype,"_twistStiffness",[b],(function(){return 0})),No=v(Eo.prototype,"_twistDamping",[b],(function(){return 0})),ko=Eo))||ko),Ms=(Ho=m("cc.LinearDriverSettings"),Vo=w(X),Wo=w(X),Go=w(X),qo=w(C),Uo=w(C),Yo=w(o),Ho((Ko=function(){function t(t){this._target=Zo&&Zo(),this._velocity=Jo&&Jo(),this._xDrive=Qo&&Qo(),this._yDrive=$o&&$o(),this._zDrive=tr&&tr(),this._strength=er&&er(),this._impl=void 0,this._impl=t}return i(t,[{key:"xDrive",get:function(){return this._xDrive},set:function(t){this._xDrive=t,this._impl.setDriverMode(0,t)}},{key:"yDrive",get:function(){return this._yDrive},set:function(t){this._yDrive=t,this._impl.setDriverMode(1,t)}},{key:"zDrive",get:function(){return this._zDrive},set:function(t){this._zDrive=t,this._impl.setDriverMode(2,t)}},{key:"targetPosition",get:function(){return this._target},set:function(t){C.copy(this._target,t),this._impl.setLinearMotorTarget(t)}},{key:"targetVelocity",get:function(){return this._velocity},set:function(t){C.copy(this._velocity,t),this._impl.setLinearMotorVelocity(t)}},{key:"strength",get:function(){return this._strength},set:function(t){this._strength=t,this._impl.setLinearMotorForceLimit(t)}},{key:"impl",set:function(t){this._impl=t}}]),t}(),n(Ko.prototype,"xDrive",[Vo],Object.getOwnPropertyDescriptor(Ko.prototype,"xDrive"),Ko.prototype),n(Ko.prototype,"yDrive",[Wo],Object.getOwnPropertyDescriptor(Ko.prototype,"yDrive"),Ko.prototype),n(Ko.prototype,"zDrive",[Go],Object.getOwnPropertyDescriptor(Ko.prototype,"zDrive"),Ko.prototype),n(Ko.prototype,"targetPosition",[qo],Object.getOwnPropertyDescriptor(Ko.prototype,"targetPosition"),Ko.prototype),n(Ko.prototype,"targetVelocity",[Uo],Object.getOwnPropertyDescriptor(Ko.prototype,"targetVelocity"),Ko.prototype),n(Ko.prototype,"strength",[Yo],Object.getOwnPropertyDescriptor(Ko.prototype,"strength"),Ko.prototype),Zo=v(Ko.prototype,"_target",[b],(function(){return new C})),Jo=v(Ko.prototype,"_velocity",[b],(function(){return new C})),Qo=v(Ko.prototype,"_xDrive",[b],(function(){return X.DISABLED})),$o=v(Ko.prototype,"_yDrive",[b],(function(){return X.DISABLED})),tr=v(Ko.prototype,"_zDrive",[b],(function(){return X.DISABLED})),er=v(Ko.prototype,"_strength",[b],(function(){return 0})),Xo=Ko))||Xo),Ls=(ir=m("cc.AngularDriverSettings"),nr=w(X),or=w(X),rr=w(X),sr=w(C),ar=w(C),pr=w(o),ir((ur=function(){function t(t){this._swingDrive1=hr&&hr(),this._swingDrive2=lr&&lr(),this._twistDrive=yr&&yr(),this._targetOrientation=_r&&_r(),this._targetVelocity=gr&&gr(),this._strength=fr&&fr(),this._impl=void 0,this._impl=t}return i(t,[{key:"twistDrive",get:function(){return this._twistDrive},set:function(t){this._twistDrive=t,this._impl.setDriverMode(3,t)}},{key:"swingDrive1",get:function(){return this._swingDrive1},set:function(t){this._swingDrive1=t,this._impl.setDriverMode(4,t)}},{key:"swingDrive2",get:function(){return this._swingDrive2},set:function(t){this._swingDrive2=t,this._impl.setDriverMode(5,t)}},{key:"targetOrientation",get:function(){return this._targetOrientation},set:function(t){C.copy(this._targetOrientation,t),this._impl.setAngularMotorTarget(t)}},{key:"targetVelocity",get:function(){return this._targetVelocity},set:function(t){C.copy(this._targetVelocity,t),this._impl.setAngularMotorVelocity(t)}},{key:"strength",get:function(){return this._strength},set:function(t){this._strength=t,this._impl.setAngularMotorForceLimit(t)}},{key:"impl",set:function(t){this._impl=t}}]),t}(),n(ur.prototype,"twistDrive",[nr],Object.getOwnPropertyDescriptor(ur.prototype,"twistDrive"),ur.prototype),n(ur.prototype,"swingDrive1",[or],Object.getOwnPropertyDescriptor(ur.prototype,"swingDrive1"),ur.prototype),n(ur.prototype,"swingDrive2",[rr],Object.getOwnPropertyDescriptor(ur.prototype,"swingDrive2"),ur.prototype),n(ur.prototype,"targetOrientation",[sr],Object.getOwnPropertyDescriptor(ur.prototype,"targetOrientation"),ur.prototype),n(ur.prototype,"targetVelocity",[ar],Object.getOwnPropertyDescriptor(ur.prototype,"targetVelocity"),ur.prototype),n(ur.prototype,"strength",[pr],Object.getOwnPropertyDescriptor(ur.prototype,"strength"),ur.prototype),hr=v(ur.prototype,"_swingDrive1",[b],(function(){return X.DISABLED})),lr=v(ur.prototype,"_swingDrive2",[b],(function(){return X.DISABLED})),yr=v(ur.prototype,"_twistDrive",[b],(function(){return X.DISABLED})),_r=v(ur.prototype,"_targetOrientation",[b],(function(){return new C})),gr=v(ur.prototype,"_targetVelocity",[b],(function(){return new C})),fr=v(ur.prototype,"_strength",[b],(function(){return 0})),cr=ur))||cr),xs=t("l",(dr=m("cc.ConfigurableConstraint"),mr=w(C),wr=w(C),vr=w(C),Sr=w(C),br=w(f),Cr=w(o),Dr=w(o),kr=w(Os),Er=w(Ts),Pr=w(Ms),Or=w(Ls),Tr=x("linearLimitSettings"),Mr=x("angularLimitSettings"),Lr=x("linearDriverSettings"),xr=x("angularDriverSettings"),dr((Ir=function(t){function n(){var e;return(e=t.call(this,N.CONFIGURABLE)||this)._breakForce=Fr&&Fr(),e._breakTorque=Br&&Br(),e._linearLimitSettings=jr&&jr(),e._angularLimitSettings=Rr&&Rr(),e._linearDriverSettings=zr&&zr(),e._angularDriverSettings=Nr&&Nr(),e._pivotA=Hr&&Hr(),e._pivotB=Vr&&Vr(),e._autoPivotB=Wr&&Wr(),e._axis=Gr&&Gr(),e._secondaryAxis=qr&&qr(),e._linearLimitSettings=new Os(e.constraint),e._angularLimitSettings=new Ts(e.constraint),e._linearDriverSettings=new Ms(e.constraint),e._angularDriverSettings=new Ls(e.constraint),e}return e(n,t),n.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.linearLimitSettings.impl=this.constraint,this.angularLimitSettings.impl=this.constraint,this.linearDriverSettings.impl=this.constraint,this.angularDriverSettings.impl=this.constraint},i(n,[{key:"axis",get:function(){return this._axis},set:function(t){C.copy(this._axis,t),this.constraint.setAxis(this._axis)}},{key:"secondaryAxis",get:function(){return this._secondaryAxis},set:function(t){C.copy(this._secondaryAxis,t),this.constraint.setSecondaryAxis(this._secondaryAxis)}},{key:"pivotA",get:function(){return this._pivotA},set:function(t){C.copy(this._pivotA,t),this.constraint.setPivotA(this._pivotA)}},{key:"pivotB",get:function(){return this._pivotB},set:function(t){C.copy(this._pivotB,t),this.constraint.setPivotB(this._pivotB)}},{key:"autoPivotB",get:function(){return this._autoPivotB},set:function(t){this._autoPivotB=t,this.constraint.setAutoPivotB(this._autoPivotB)}},{key:"breakForce",get:function(){return this._breakForce},set:function(t){this._breakForce=t,this.constraint.setBreakForce(t)}},{key:"breakTorque",get:function(){return this._breakTorque},set:function(t){this._breakTorque=t,this.constraint.setBreakTorque(t)}},{key:"linearLimitSettings",get:function(){return this._linearLimitSettings},set:function(t){this._linearLimitSettings=t;var e=this.constraint;e.setConstraintMode(0,t.xMotion),e.setConstraintMode(1,t.yMotion),e.setConstraintMode(2,t.zMotion);var i=t.upper,n=t.lower;e.setLinearLimit(0,n.x,i.x),e.setLinearLimit(1,n.y,i.y),e.setLinearLimit(2,n.z,i.z),e.setLinearSoftConstraint(t.enableSoftConstraint),e.setLinearDamping(t.damping),e.setLinearStiffness(t.stiffness),e.setLinearRestitution(t.restitution)}},{key:"angularLimitSettings",get:function(){return this._angularLimitSettings},set:function(t){this._angularLimitSettings=t;var e=this.constraint;e.setConstraintMode(3,t.twistMotion),e.setConstraintMode(4,t.swingMotion1),e.setConstraintMode(5,t.swingMotion2),e.setAngularExtent(t.twistExtent,t.swingExtent1,t.swingExtent2),e.setTwistRestitution(t.twistRestitution),e.setSwingRestitution(t.swingRestitution),e.setTwistSoftConstraint(t.enableSoftConstraintTwist),e.setSwingSoftConstraint(t.enableSoftConstraintSwing),e.setTwistDamping(t.twistDamping),e.setSwingDamping(t.swingDamping),e.setTwistStiffness(t.twistStiffness),e.setSwingStiffness(t.swingStiffness)}},{key:"linearDriverSettings",get:function(){return this._linearDriverSettings},set:function(t){this._linearDriverSettings=t;var e=this.constraint;e.setDriverMode(0,t.xDrive),e.setDriverMode(1,t.yDrive),e.setDriverMode(2,t.zDrive),e.setLinearMotorTarget(t.targetPosition),e.setLinearMotorVelocity(t.targetVelocity),e.setLinearMotorForceLimit(t.strength)}},{key:"angularDriverSettings",get:function(){return this._angularDriverSettings},set:function(t){this._angularDriverSettings=t;var e=this.constraint;e.setDriverMode(3,t.twistDrive),e.setDriverMode(4,t.swingDrive1),e.setDriverMode(5,t.swingDrive2),e.setAngularMotorTarget(t.targetOrientation),e.setAngularMotorVelocity(t.targetVelocity),e.setAngularMotorForceLimit(t.strength)}},{key:"constraint",get:function(){return this._constraint}}]),n}(xn),n(Ir.prototype,"axis",[mr],Object.getOwnPropertyDescriptor(Ir.prototype,"axis"),Ir.prototype),n(Ir.prototype,"secondaryAxis",[wr],Object.getOwnPropertyDescriptor(Ir.prototype,"secondaryAxis"),Ir.prototype),n(Ir.prototype,"pivotA",[vr],Object.getOwnPropertyDescriptor(Ir.prototype,"pivotA"),Ir.prototype),n(Ir.prototype,"pivotB",[Sr],Object.getOwnPropertyDescriptor(Ir.prototype,"pivotB"),Ir.prototype),n(Ir.prototype,"autoPivotB",[br],Object.getOwnPropertyDescriptor(Ir.prototype,"autoPivotB"),Ir.prototype),n(Ir.prototype,"breakForce",[Cr],Object.getOwnPropertyDescriptor(Ir.prototype,"breakForce"),Ir.prototype),n(Ir.prototype,"breakTorque",[Dr],Object.getOwnPropertyDescriptor(Ir.prototype,"breakTorque"),Ir.prototype),n(Ir.prototype,"linearLimitSettings",[kr],Object.getOwnPropertyDescriptor(Ir.prototype,"linearLimitSettings"),Ir.prototype),n(Ir.prototype,"angularLimitSettings",[Er],Object.getOwnPropertyDescriptor(Ir.prototype,"angularLimitSettings"),Ir.prototype),n(Ir.prototype,"linearDriverSettings",[Pr],Object.getOwnPropertyDescriptor(Ir.prototype,"linearDriverSettings"),Ir.prototype),n(Ir.prototype,"angularDriverSettings",[Or],Object.getOwnPropertyDescriptor(Ir.prototype,"angularDriverSettings"),Ir.prototype),Fr=v(Ir.prototype,"_breakForce",[b],(function(){return 1e8})),Br=v(Ir.prototype,"_breakTorque",[b],(function(){return 1e8})),jr=v(Ir.prototype,"_linearLimitSettings",[b,Tr],null),Rr=v(Ir.prototype,"_angularLimitSettings",[b,Mr],null),zr=v(Ir.prototype,"_linearDriverSettings",[b,Lr],null),Nr=v(Ir.prototype,"_angularDriverSettings",[b,xr],null),Hr=v(Ir.prototype,"_pivotA",[b],(function(){return new C})),Vr=v(Ir.prototype,"_pivotB",[b],(function(){return new C})),Wr=v(Ir.prototype,"_autoPivotB",[b],(function(){return!1})),Gr=v(Ir.prototype,"_axis",[b],(function(){return new C(0,1,0)})),qr=v(Ir.prototype,"_secondaryAxis",[b],(function(){return new C(1,0,0)})),Ar=Ir))||Ar)),As=t("m",(Ur=m("cc.PointToPointConstraint"),Yr=w(C),Xr=w(C),Ur((Zr=function(t){function n(){var e;return(e=t.call(this,N.POINT_TO_POINT)||this)._pivotA=Jr&&Jr(),e._pivotB=Qr&&Qr(),e}return e(n,t),i(n,[{key:"pivotA",get:function(){return this._pivotA},set:function(t){C.copy(this._pivotA,t),this.constraint.setPivotA(this._pivotA)}},{key:"pivotB",get:function(){return this._pivotB},set:function(t){C.copy(this._pivotB,t),this.constraint.setPivotB(this._pivotB)}},{key:"constraint",get:function(){return this._constraint}}]),n}(xn),n(Zr.prototype,"pivotA",[Yr],Object.getOwnPropertyDescriptor(Zr.prototype,"pivotA"),Zr.prototype),n(Zr.prototype,"pivotB",[Xr],Object.getOwnPropertyDescriptor(Zr.prototype,"pivotB"),Zr.prototype),Jr=v(Zr.prototype,"_pivotA",[b],(function(){return new C})),Qr=v(Zr.prototype,"_pivotB",[b],(function(){return new C})),Kr=Zr))||Kr)),Is=t("e",($r=m("cc.CharacterController"),ts=w(te.PhysicsGroup),es=w(o),is=w(o),ns=w(o),os=w(o),rs=w(C),$r(ss=E((as=function(t){function n(e){var i;return(i=t.call(this)||this).type=void 0,i._cct=null,i._group=ps&&ps(),i._minMoveDistance=cs&&cs(),i._stepOffset=us&&us(),i._slopeLimit=hs&&hs(),i._skinWidth=ls&&ls(),i._center=ys&&ys(),i._initialized=!1,i._prevPos=new C,i._currentPos=new C,i._velocity=new C,i._centerWorldPosition=new C,i._needCollisionEvent=!1,i._needTriggerEvent=!1,i.type=e,i}e(n,t);var o=n.prototype;return o.onLoad=function(){vt.runInEditor&&(this._cct=Bt(this.type),this._initialized=this._cct.initialize(this),this._cct.onLoad())},o.onEnable=function(){this._cct&&this._cct.onEnable()},o.onDisable=function(){this._cct&&this._cct.onDisable()},o.onDestroy=function(){this._cct&&(this._needCollisionEvent=!1,this._needTriggerEvent=!1,this._cct.updateEventListener(),this._cct.onDestroy(),this._cct=null)},o.move=function(t){if(this._isInitialized){this._prevPos.set(this.centerWorldPosition);var e=te.instance.fixedTimeStep;this._cct.move(t,this._minMoveDistance,e),this._currentPos.set(this.centerWorldPosition),this._velocity=this._currentPos.subtract(this._prevPos).multiplyScalar(1/e),this._cct.syncPhysicsToScene()}},o.on=function(e,i,n,o){var r=t.prototype.on.call(this,e,i,n,o);return this._updateNeedEvent(e),r},o.off=function(e,i,n){t.prototype.off.call(this,e,i,n),this._updateNeedEvent()},o.once=function(e,i,n){var o=t.prototype.once.call(this,e,i,n);return this._updateNeedEvent(e),o},o.getGroup=function(){return this._isInitialized?this._cct.getGroup():0},o.setGroup=function(t){this._isInitialized&&this._cct.setGroup(t)},o.addGroup=function(t){this._isInitialized&&this._cct.addGroup(t)},o.removeGroup=function(t){this._isInitialized&&this._cct.removeGroup(t)},o.getMask=function(){return this._isInitialized?this._cct.getMask():0},o.setMask=function(t){this._isInitialized&&this._cct.setMask(t)},o.addMask=function(t){this._isInitialized&&this._cct.addMask(t)},o.removeMask=function(t){this._isInitialized&&this._cct.removeMask(t)},o._updateNeedEvent=function(t){this.isValid&&(void 0!==t?("onControllerColliderHit"===t&&(this._needCollisionEvent=!0),"onControllerTriggerEnter"!==t&&"onControllerTriggerStay"!==t&&"onControllerTriggerExit"!==t||(this._needTriggerEvent=!0)):(this.hasEventListener("onControllerColliderHit")||(this._needCollisionEvent=!1),this.hasEventListener("onControllerTriggerEnter")||this.hasEventListener("onControllerTriggerStay")||this.hasEventListener("onControllerTriggerExit")||(this._needTriggerEvent=!1)),this._cct&&this._cct.updateEventListener())},i(n,[{key:"group",get:function(){return this._group},set:function(t){Number.isInteger(Math.log2(t>>>0))||a("[Physics]: The group should only have one bit."),this._group=t,this._cct&&this._cct.getGroup()!==t&&this._cct.setGroup(t)}},{key:"minMoveDistance",get:function(){return this._minMoveDistance},set:function(t){this._minMoveDistance!==t&&(this._minMoveDistance=Math.abs(t))}},{key:"stepOffset",get:function(){return this._stepOffset},set:function(t){this._stepOffset!==t&&(this._stepOffset=Math.abs(t),this._cct&&this._cct.setStepOffset(t))}},{key:"slopeLimit",get:function(){return this._slopeLimit},set:function(t){this._slopeLimit!==t&&(this._slopeLimit=Math.abs(t),this._cct&&this._cct.setSlopeLimit(t))}},{key:"skinWidth",get:function(){return this._skinWidth},set:function(t){this._skinWidth!==t&&(this._skinWidth=Math.abs(t),this._cct&&this._cct.setContactOffset(Math.max(1e-4,t)))}},{key:"center",get:function(){return this._center},set:function(t){C.equals(this._center,t)||C.copy(this._center,t)}},{key:"_isInitialized",get:function(){return!(null===this._cct||!this._initialized)}},{key:"centerWorldPosition",get:function(){return this._isInitialized&&this._cct.getPosition(this._centerWorldPosition),this._centerWorldPosition},set:function(t){this._isInitialized&&this._cct.setPosition(t)}},{key:"velocity",get:function(){return this._velocity}},{key:"isGrounded",get:function(){return this._cct.onGround()}},{key:"needCollisionEvent",get:function(){return this._needCollisionEvent}},{key:"needTriggerEvent",get:function(){return this._needTriggerEvent}}]),n}(g(R)),n(as.prototype,"group",[ts],Object.getOwnPropertyDescriptor(as.prototype,"group"),as.prototype),n(as.prototype,"minMoveDistance",[es],Object.getOwnPropertyDescriptor(as.prototype,"minMoveDistance"),as.prototype),n(as.prototype,"stepOffset",[is],Object.getOwnPropertyDescriptor(as.prototype,"stepOffset"),as.prototype),n(as.prototype,"slopeLimit",[ns],Object.getOwnPropertyDescriptor(as.prototype,"slopeLimit"),as.prototype),n(as.prototype,"skinWidth",[os],Object.getOwnPropertyDescriptor(as.prototype,"skinWidth"),as.prototype),n(as.prototype,"center",[rs],Object.getOwnPropertyDescriptor(as.prototype,"center"),as.prototype),ps=v(as.prototype,"_group",[b],(function(){return te.PhysicsGroup.DEFAULT})),cs=v(as.prototype,"_minMoveDistance",[b],(function(){return.001})),us=v(as.prototype,"_stepOffset",[b],(function(){return.5})),hs=v(as.prototype,"_slopeLimit",[b],(function(){return 45})),ls=v(as.prototype,"_skinWidth",[b],(function(){return.01})),ys=v(as.prototype,"_center",[b],(function(){return new C})),ss=as))||ss)||ss));new C(0,0,0);var Fs,Bs,js,Rs,zs,Ns,Hs,Vs,Ws=t("o",(_s=m("cc.BoxCharacterController"),gs=P(-1),fs=w(o),ds=w(o),ms=w(o),_s(ws=gs((vs=function(t){function n(){var e;return(e=t.call(this,H.BOX)||this)._halfHeight=Ss&&Ss(),e._halfSideExtent=bs&&bs(),e._halfForwardExtent=Cs&&Cs(),e}return e(n,t),i(n,[{key:"halfHeight",get:function(){return this._halfHeight},set:function(t){this._halfHeight!==t&&(this._halfHeight=Math.abs(t),this._cct&&this._cct.setHalfHeight(t))}},{key:"halfSideExtent",get:function(){return this._halfSideExtent},set:function(t){this._halfSideExtent!==t&&(this._halfSideExtent=Math.abs(t),this._cct&&this._cct.setHalfSideExtent(t))}},{key:"halfForwardExtent",get:function(){return this._halfForwardExtent},set:function(t){this._halfForwardExtent!==t&&(this._halfForwardExtent=Math.abs(t),this._cct&&this._cct.setHalfForwardExtent(t))}}]),n}(Is),n(vs.prototype,"halfHeight",[fs],Object.getOwnPropertyDescriptor(vs.prototype,"halfHeight"),vs.prototype),n(vs.prototype,"halfSideExtent",[ds],Object.getOwnPropertyDescriptor(vs.prototype,"halfSideExtent"),vs.prototype),n(vs.prototype,"halfForwardExtent",[ms],Object.getOwnPropertyDescriptor(vs.prototype,"halfForwardExtent"),vs.prototype),Ss=v(vs.prototype,"_halfHeight",[b],(function(){return.5})),bs=v(vs.prototype,"_halfSideExtent",[b],(function(){return.5})),Cs=v(vs.prototype,"_halfForwardExtent",[b],(function(){return.5})),ws=vs))||ws)||ws));new C(0,0,0);var Gs=t("n",(Fs=m("cc.CapsuleCharacterController"),Bs=P(-1),js=w(o),Rs=w(o),Fs(zs=Bs((Ns=function(t){function n(){var e;return(e=t.call(this,H.CAPSULE)||this)._radius=Hs&&Hs(),e._height=Vs&&Vs(),e}return e(n,t),i(n,[{key:"radius",get:function(){return this._radius},set:function(t){this._radius!==t&&(this._radius=Math.abs(t),this._cct&&this._cct.setRadius(t))}},{key:"height",get:function(){return this._height},set:function(t){this._height!==t&&(this._height=Math.abs(t),this._cct&&this._cct.setHeight(t))}}]),n}(Is),n(Ns.prototype,"radius",[js],Object.getOwnPropertyDescriptor(Ns.prototype,"radius"),Ns.prototype),n(Ns.prototype,"height",[Rs],Object.getOwnPropertyDescriptor(Ns.prototype,"height"),Ns.prototype),Hs=v(Ns.prototype,"_radius",[b],(function(){return.5})),Vs=v(Ns.prototype,"_height",[b],(function(){return 1})),zs=Ns))||zs)||zs)),qs=t("q",(function(){this.worldPosition=new C,this.worldNormal=new C,this.motionDirection=new C,this.motionLength=0}));B.PhysicsSystem=te,B.PhysicsMaterial=ft,B.PhysicsRayResult=dt,B.ConstantForce=ki,t("p",Object.freeze({__proto__:null,BoxCharacterController:Ws,BoxCollider:wi,CapsuleCharacterController:Gs,CapsuleCollider:Si,CharacterController:Is,CharacterControllerContact:qs,get Collider(){return me},ConeCollider:Ci,ConfigurableConstraint:xs,ConstantForce:ki,get Constraint(){return xn},CylinderCollider:bi,get EAxisDirection(){return q},get ECharacterControllerType(){return H},get EColliderType(){return z},get EConstraintMode(){return Y},get EConstraintType(){return N},get ED6Axis(){return K},get EDriverMode(){return X},get EPhysicsDrawFlags(){return Z},get ERigidBodyType(){return G},get ESimplexType(){return U},FixedConstraint:Ps,HingeConstraint:Es,MeshCollider:Di,get PhysicsGroup(){return V},PhysicsLineStripCastResult:mt,PhysicsMaterial:ft,PhysicsRayResult:dt,PhysicsSystem:te,PlaneCollider:Ln,PointToPointConstraint:As,get RigidBody(){return le},get SimplexCollider(){return Pi},SphereCollider:vi,TerrainCollider:Ei,selector:vt,utils:tt}))}}}));
//# sourceMappingURL=index-D-Wi7yQz.js.map
